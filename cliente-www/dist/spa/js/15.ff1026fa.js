(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{4598:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-page",{},[e("div",{staticClass:"full-width header-top-bg bg-primary shadow-up-21"}),e("div",{staticClass:"row doc-header full-width"},[e("div",{staticClass:"col-xs-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 ",class:t.$q.screen.lt.sm?"":"q-pa-lg"},[e("q-card",{staticClass:"bg-white ",class:t.$q.platform.is.mobile?"q-ma-sm":"",attrs:{flat:"",bordered:""}},[e("q-card-section",{attrs:{horizontal:""}},[e("q-card-section",{staticClass:"col-10"},[e("div",{staticClass:"text-h6"},[t._v(t._s(t.dataset.nome_old))])]),t.dataset.fotoiconurl?e("q-card-section",{staticClass:"col-2 text-right"},[e("q-avatar",{attrs:{size:"80px"}},[e("q-img",{attrs:{src:t.dataset.fotoiconurl,contain:""}})],1)],1):t._e()],1),e("q-separator",{attrs:{spaced:""}}),e("q-card-section",[e("div",[e("div",{staticClass:"fit row wrap q-col-gutter-x-md q-col-gutter-y-md q-pb-md"},[e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-field",{attrs:{outlined:"",label:"E-mail",dense:!t.$q.platform.is.mobile,"stack-label":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0},{key:"control",fn:function(){return[e("div",{staticClass:"self-center full-width no-outline",attrs:{tabindex:"0"}},[t._v(t._s(t.dataset.email))])]},proxy:!0}])})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{outlined:"",label:"Celular",maxlength:"20",type:"phone","aria-placeholder":"Somente número",dense:!t.$q.platform.is.mobile},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"phone"}})]},proxy:!0}]),model:{value:t.dataset.celular,callback:function(a){t.$set(t.dataset,"celular",a)},expression:"dataset.celular"}},[e("q-tooltip",{attrs:{delay:500}},[t._v("Informe somente número com o DDD")])],1)],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",label:"Nome","stack-label":"",maxlength:"60",type:"text",dense:!t.$q.platform.is.mobile},model:{value:t.dataset.nome,callback:function(a){t.$set(t.dataset,"nome",a)},expression:"dataset.nome"}})],1)])])]),"celular"===t.dataset.usernametype?e("q-card-section",{staticClass:"text-right text-caption text-accent"},[e("div",[t._v("Se o número de celular for alterado, será necessário refazer seu acesso. "),e("q-icon",{staticClass:"q-mr-md",attrs:{name:"info",size:"20px"}})],1)]):t._e(),e("q-separator"),e("q-card-section",[e("q-btn",{attrs:{label:"Salvar",unelevated:"",color:"primary"},on:{click:t.actSave}}),e("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Voltar",color:"primary",flat:""},on:{click:function(a){return t.$router.go(-1)}}})],1)],1)],1),e("q-page-sticky",{attrs:{position:"top",expand:""}},[e("q-toolbar",{staticClass:"bg-primary text-white"},[e("q-btn",{attrs:{flat:"",round:"",icon:"arrow_back"},on:{click:function(a){return t.$router.go(-1)}}}),e("q-toolbar-title",[t._v("Meu perfil (*Dev)")]),e("q-btn",{attrs:{icon:"sync",round:t.$q.platform.is.mobile,flat:"",loading:t.loading},on:{click:function(a){return t.refreshData(null)}}})],1)],1)],1)])],1)},s=[],o=e("a34a"),n=e.n(o),l=(e("96cf"),e("c973")),i=e.n(l),c=e("bfc8"),u={name:"usuario.meuperfil",components:{},data:function(){var t=new c["a"];return{dataset:t,rows:[],filter:"",breadcrumbslist:[],columns:[{name:"razaosocial",field:"razaosocial",required:!0,label:"Razão Social",align:"left",sortable:!1},{name:"cnpj",style:"width: 120px",field:"cnpj",label:"CNPJ",align:"center",sortable:!1},{name:"fantasiafollowup",style:"width: 80px",align:"center",label:"Follow Up",field:"fantasia_followup",sortable:!1}],showpedido:!1,tab:"dados",slide:0,loading:!1,posting:!1,msgError:"",showfavoritos:!0}},mounted:function(){var t=this;return i()(n.a.mark((function a(){return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.init();case 2:case"end":return a.stop()}}),a)})))()},computed:{usuariologado:function(){return this.$store.state.usuario.user&&this.$store.state.usuario.user.id>0?this.$store.state.usuario.user:null}},methods:{init:function(){var t=this;return i()(n.a.mark((function a(){var e;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,e.loading=!0,e.dataset.limpardados(),a.next=5,e.refreshData();case 5:e.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},refreshData:function(){var t=this;return i()(n.a.mark((function a(){var e,r,s;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,e.loading=!0,a.next=4,e.dataset.meuUsuario();case 4:if(r=a.sent,r.ok){a.next=10;break}return e.loading=!1,s=e.$helpers.showDialog(r),a.next=10,s.then((function(){}));case 10:e.loading=!1;case 11:case"end":return a.stop()}}),a)})))()},actSave:function(){var t=this;return i()(n.a.mark((function a(){var e,r,s,o;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,e.loading=!0,r="celular"===e.dataset.usernametype&&e.dataset.celular_old!==e.dataset.celular,a.next=5,e.dataset.saveMeuUsuario();case 5:if(s=a.sent,s.ok){a.next=13;break}return e.loading=!1,o=e.$helpers.showDialog(s),a.next=11,o.then((function(){}));case 11:a.next=21;break;case 13:if(e.$q.notify({color:"positive",icon:"check_circle",timeout:2500,message:"Informações do usuário foram salvas!"}),!r){a.next=19;break}e.$store.dispatch("usuario/logout"),e.$q.notify({color:"orange",icon:"person",timeout:2500,message:"Celular alterado, necessário fazer novo login!"}),a.next=21;break;case 19:return a.next=21,e.$store.dispatch("usuario/getlocalstorage");case 21:e.loading=!1;case 22:case"end":return a.stop()}}),a)})))()}}},d=u,p=e("2877"),f=e("9989"),m=e("f09f"),b=e("a370"),h=e("cb32"),g=e("068f"),v=e("eb85"),q=e("8572"),x=e("0016"),w=e("27f9"),k=e("05c0"),y=e("eaac"),C=e("db86"),$=e("9c40"),_=e("de5e"),Q=e("65c6"),S=e("6ac5"),D=e("eebe"),z=e.n(D),T=Object(p["a"])(d,r,s,!1,null,null,null);a["default"]=T.exports;z()(T,"components",{QPage:f["a"],QCard:m["a"],QCardSection:b["a"],QAvatar:h["a"],QImg:g["a"],QSeparator:v["a"],QField:q["a"],QIcon:x["a"],QInput:w["a"],QTooltip:k["a"],QTable:y["a"],QTd:C["a"],QBtn:$["a"],QPageSticky:_["a"],QToolbar:Q["a"],QToolbarTitle:S["a"]})}}]);