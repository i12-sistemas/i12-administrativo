(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"109d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-page",{},[a("div",{staticClass:"row doc-header q-pa-lg"},[e.error?a("div",{staticClass:"col-12"},[a("q-banner",{staticClass:"bg-negative text-white"},[e._v(e._s(e.error))])],1):e._e(),e.error?e._e():a("div",{staticClass:"col-sm-12",attrs:{id:"sticky-table-scroll"}},[a("q-table",{attrs:{data:e.rows,columns:e.columns,dense:"",bordered:"",flat:"",loading:e.loading,id:"sticky-table","visible-columns":e.visiblecolumns,pagination:e.dataset.pagination,"row-key":"id","rows-per-page-options":e.$qtable.rowsperpageoptions,selected:e.selected_rows},on:{"update:pagination":function(t){return e.$set(e.dataset,"pagination",t)},request:e.refreshData,"update:selected":function(t){e.selected_rows=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-linear-progress",{attrs:{indeterminate:""}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"black",icon:"view_column",flat:"",round:"",size:"sm"},on:{click:e.actConfigColuna}})]},proxy:!0},{key:"header-cell",fn:function(t){return[a("q-th",{attrs:{props:t}},["id11"===t.col.name?a("div",[a("span",{on:{click:function(a){return e.actChangeSortBy(t)}}},[e._v("\r\n                      "+e._s(t.col.label)+"\r\n                      "),e.orderbylist.id?a("q-icon",{staticClass:"q-ml-xs text-black",attrs:{size:"14px",color:e.orderbylist.id&&"asc"===e.orderbylist.id?"green":"red",name:e.orderbylist.id&&"asc"===e.orderbylist.id?"fas fa-sort-alpha-down":"fas fa-sort-alpha-up-alt"}}):e._e(),a("q-tooltip",{attrs:{delay:1e3}},[e._v(e._s(e.orderbylist.id?"asc"===e.orderbylist.id?"Ordem crescente":"Ordem decrescente":"Nenhum ordenação - clique para ordenar por "+t.col.name))])],1),a("div",{staticStyle:{width:"70px"}},[a("q-input",{attrs:{type:"text","input-class":"text-accent text-uppercase",color:"accent",dense:"",clearable:"",debounce:700,loading:e.loading},on:{input:function(t){return e.actInputFilter()}},model:{value:t.col.filterconfig.value,callback:function(a){e.$set(t.col.filterconfig,"value",a)},expression:"props.col.filterconfig.value"}})],1)]):a("div",[t.col.filterconfig?a("div",{on:{click:function(a){t.col.filterconfig.sorted&&e.actChangeSortBy(t)}}},[e._v("\r\n                      "+e._s(t.col.label)+"\r\n                      "),e.orderbylist[t.col.name]?a("q-icon",{staticClass:"q-ml-xs text-black",attrs:{size:"14px",color:e.orderbylist[t.col.name]&&"asc"===e.orderbylist[t.col.name]?"green":"red",name:e.orderbylist[t.col.name]&&"asc"===e.orderbylist[t.col.name]?"fas fa-sort-alpha-down":"fas fa-sort-alpha-up-alt"}}):e._e(),a("q-tooltip",{attrs:{delay:1e3}},[e._v(e._s(e.orderbylist[t.col.name]?"asc"===e.orderbylist[t.col.name]?"Ordem crescente":"Ordem decrescente":"Nenhum ordenação - clique para ordenar por "+t.col.name))])],1):a("div",[e._v("\r\n                      "+e._s(t.col.label)+"\r\n                    ")]),t.col.filterconfig?a("div",[t.col.filterconfig.filtertype&&"text"===t.col.filterconfig.filtertype?a("div",[a("q-input",{attrs:{type:"text","input-class":"text-accent text-uppercase",color:"accent",dense:"",clearable:"",debounce:700,loading:e.loading},on:{input:function(t){return e.actInputFilter()}},scopedSlots:e._u([t.col.filterconfig.filtertype2&&""!==t.col.filterconfig.filtertype2?{key:"prepend",fn:function(){return[a("q-btn",{attrs:{icon:"filter_alt",round:"",dense:"",size:"xs",unelevated:"",color:t.col.filterconfig.value2?"accent":"grey-3","text-color":t.col.filterconfig.value2?"white":"grey-7"},on:{click:function(a){return e.actShowFilter2(t)}}},[t.col.filterconfig.value2?a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(t.col.filterconfig.value2)}})]):e._e()],1)]},proxy:!0}:null],null,!0),model:{value:t.col.filterconfig.value,callback:function(a){e.$set(t.col.filterconfig,"value",a)},expression:"props.col.filterconfig.value"}},[t.col.filterconfig.tooltip&&""!==t.col.filterconfig.tooltip?a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(t.col.filterconfig.tooltip)}})]):e._e()],1)],1):e._e(),t.col.filterconfig.filtertype&&"floatinterval"===t.col.filterconfig.filtertype?a("div",[null!=t.col.filterconfig.value?a("div",[a("q-chip",{staticClass:"text-caption truncate-chip-labels ",staticStyle:{"max-width":"100px"},attrs:{label:"Filtrado",dense:"",color:"accent","text-color":"white",clickable:"",removable:""},on:{click:function(a){return e.actShowFilter(t)},remove:function(a){return e.actClearFilter(t)}}},[a("div",{staticClass:"ellipsis"},[t.col.filterconfig.value.valuei?a("span",{domProps:{innerHTML:e._s(">="+e.$helpers.formatRS(t.col.filterconfig.value.valuei,!!t.col.filterconfig.prefix&&"R$"==t.col.filterconfig.prefix,t.col.filterconfig.decimal?t.col.filterconfig.decimal:0))}}):e._e(),t.col.filterconfig.value.valuei&&t.col.filterconfig.value.valuef?a("span",[e._v(" à ")]):e._e(),t.col.filterconfig.value.valuef?a("span",{domProps:{innerHTML:e._s("<="+e.$helpers.formatRS(t.col.filterconfig.value.valuef,!!t.col.filterconfig.prefix&&"R$"==t.col.filterconfig.prefix,t.col.filterconfig.decimal?t.col.filterconfig.decimal:0))}}):e._e()]),a("q-tooltip",{attrs:{delay:1e3}},[t.col.filterconfig.value.valuei?a("span",[e._v("De "+e._s(e.$helpers.formatRS(t.col.filterconfig.value.valuei,!!t.col.filterconfig.prefix&&"R$"==t.col.filterconfig.prefix,t.col.filterconfig.decimal?t.col.filterconfig.decimal:0)))]):e._e(),t.col.filterconfig.value.valuei&&t.col.filterconfig.value.valuef?a("span",[e._v(" à ")]):e._e(),t.col.filterconfig.value.valuef?a("span",[e._v(e._s(e.$helpers.formatRS(t.col.filterconfig.value.valuef,!!t.col.filterconfig.prefix&&"R$"==t.col.filterconfig.prefix,t.col.filterconfig.decimal?t.col.filterconfig.decimal:0)))]):e._e()])],1)],1):a("div",[a("q-chip",{staticClass:"text-caption",attrs:{label:"filtrar",dense:"",color:"grey-3","text-color":"grey-7",clickable:"",icon:"filter_alt"},on:{click:function(a){return e.actShowFilter(t)}}})],1)]):e._e(),t.col.filterconfig.filtertype&&"datetimeinterval"===t.col.filterconfig.filtertype?a("div",[null!=t.col.filterconfig.value?a("div",[a("q-chip",{staticClass:"text-caption truncate-chip-labels ",staticStyle:{"max-width":"100px"},attrs:{label:"Filtrado",dense:"",color:"accent","text-color":"white",clickable:"",removable:""},on:{click:function(a){return e.actShowFilter(t)},remove:function(a){return e.actClearFilter(t)}}},[a("div",{staticClass:"ellipsis"},[t.col.filterconfig.value.valuei?a("span",{domProps:{innerHTML:e._s(">="+e.$helpers.dateToBR(t.col.filterconfig.value.valuei))}}):e._e(),t.col.filterconfig.value.valuei&&t.col.filterconfig.value.valuef?a("span",[e._v(" à ")]):e._e(),t.col.filterconfig.value.valuef?a("span",{domProps:{innerHTML:e._s("<="+e.$helpers.dateToBR(t.col.filterconfig.value.valuef))}}):e._e()]),a("q-tooltip",{attrs:{delay:1e3}},[t.col.filterconfig.value.valuei?a("span",[e._v("De "+e._s(e.$helpers.dateToBR(t.col.filterconfig.value.valuei)))]):e._e(),t.col.filterconfig.value.valuei&&t.col.filterconfig.value.valuef?a("span",[e._v(" à ")]):e._e(),t.col.filterconfig.value.valuef?a("span",[e._v(e._s(e.$helpers.dateToBR(t.col.filterconfig.value.valuef)))]):e._e()])],1)],1):a("div",[a("q-chip",{staticClass:"text-caption",attrs:{label:"filtrar",dense:"",color:"grey-3","text-color":"grey-7",clickable:"",icon:"filter_alt"},on:{click:function(a){return e.actShowFilter(t)}}})],1)]):e._e(),e.selected_rows&&e.selected_rows.length>0&&t.col.filterconfig.updatemass?a("div",[a("q-chip",{staticClass:"text-caption",attrs:{label:"editar",dense:"",color:"grey-3","text-color":"grey-7",clickable:"",icon:"edit"}},[a("q-popup-edit",{attrs:{title:e.selected_rows.length+" registros",buttons:"","label-set":"Salvar",validate:function(){return!e.$refs["txtpopinputtitle_"+t.col.name].hasError}},on:{save:function(a,r){return e.onSetInputMass(t.col.field,a)}},model:{value:t.col.filterconfig.updatemass.value,callback:function(a){e.$set(t.col.filterconfig.updatemass,"value",a)},expression:"props.col.filterconfig.updatemass.value"}},["date"===t.col.filterconfig.updatemass.type?a("inputdata",{ref:"txtpopinputtitle_"+t.col.name,attrs:{outlined:"",label:t.col.label,stacklabel:"",dense:!e.$q.platform.is.mobile},model:{value:t.col.filterconfig.updatemass.value,callback:function(a){e.$set(t.col.filterconfig.updatemass,"value",a)},expression:"props.col.filterconfig.updatemass.value"}}):e._e(),"integer"===t.col.filterconfig.updatemass.type?a("q-input",{ref:"txtpopinputtitle_"+t.col.name,attrs:{type:"number",autofocus:"",dense:!e.$q.platform.is.mobile,debounce:400,rules:[function(e){return!e||parseInt(e)>0&&parseInt(e)<=99999999999||"Se informado deve ser um número inteiro"}]},model:{value:t.col.filterconfig.updatemass.value,callback:function(a){e.$set(t.col.filterconfig.updatemass,"value",e._n(a))},expression:"props.col.filterconfig.updatemass.value"}}):e._e(),"inputStatusAgendaPopupEdit"===t.col.filterconfig.updatemass.type?a("inputstatusagendamento",{ref:"txtpopinputtitle_"+t.col.name,attrs:{value:{status:null,erro:null},tipo:"erroagendastatus"===t.col.name?"agenda":"errocoletastatus"===t.col.name?"coleta":"dtpromessa"},on:{input:function(e){return t.col.filterconfig.updatemass.value=e}}}):e._e(),"inputstatusiniciofup"===t.col.filterconfig.updatemass.type?a("inputstatusiniciofup",{ref:"txtpopinputtitle_"+t.col.name,on:{input:function(e){return t.col.filterconfig.updatemass.value=e}}}):e._e(),"inputstatusconfirmacaocoleta"===t.col.filterconfig.updatemass.type?a("inputstatusconfirmacaocoleta",{ref:"txtpopinputtitle_"+t.col.name,on:{input:function(e){return t.col.filterconfig.updatemass.value=e}}}):e._e(),"textarea"===t.col.filterconfig.updatemass.type?a("q-input",{ref:"txtpopinputtitle_"+t.col.name,attrs:{type:"textarea",autofocus:"",counter:"","input-class":"text-uppercase",dense:!e.$q.platform.is.mobile,debounce:400},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation()}},model:{value:t.col.filterconfig.updatemass.value,callback:function(a){e.$set(t.col.filterconfig.updatemass,"value",a)},expression:"props.col.filterconfig.updatemass.value"}}):e._e()],1),a("q-tooltip",{attrs:{delay:700}},[e._v("Edição em massa do campo "+e._s(t.col.label))])],1)],1):e._e()]):e._e()])])]}},{key:"body-cell-action",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{flat:"",round:"",dense:!e.$q.platform.is.mobile,size:e.$q.platform.is.mobile?"12px":"8px",icon:"edit"},on:{click:function(a){return e.actEditRow(t.row)}}},[a("q-tooltip",[e._v("Editar")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:!e.$q.platform.is.mobile,size:e.$q.platform.is.mobile?"12px":"8px",icon:"storage"},on:{click:function(a){return e.actLogView(t.row)}}},[a("q-tooltip",[e._v("Log")])],1)],1)]}},{key:"body-cell-dhimportacao",fn:function(t){return[a("q-td",{staticClass:"text-caption",attrs:{props:t}},[a("div",[e._v("\r\n                  "+e._s(t.row.dhimportacao?e.$helpers.dateToBR(t.row.dhimportacao):"")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[e._v("\r\n                    "+e._s(t.row.dhimportacao?e.$helpers.datetimeToBR(t.row.dhimportacao):"")+"\r\n                  ")])],1)])]}},{key:"body-cell-datahorafollowup",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"text-caption",on:{click:function(a){return e.actLogView(t.row)}}},[e._v("\r\n                  "+e._s(t.row.datahora_followup?e.$helpers.datetimeToBR(t.row.datahora_followup):"-")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.datahora_followup?a("div",[e._v("Última alteração em "+e._s(t.row.datahora_followup?e.$helpers.datetimeToBR(t.row.datahora_followup):""))]):e._e(),a("div",[e._v("por "+e._s(t.row.updated_usuario&&t.row.updated_usuario.id>=0?t.row.updated_usuario.nome:"Não identificado"))])])],1)])]}},{key:"body-cell-updatedusuario",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"text-caption",on:{click:function(a){return e.actLogView(t.row)}}},[e._v("\r\n                  "+e._s(t.row.updated_usuario&&t.row.updated_usuario.id>=0?t.row.updated_usuario.nome:"Não identificado")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.datahora_followup?a("div",[e._v("Última alteração em "+e._s(t.row.datahora_followup?e.$helpers.datetimeToBR(t.row.datahora_followup):""))]):e._e(),a("div",[e._v("por "+e._s(t.row.updated_usuario&&t.row.updated_usuario.id>=0?t.row.updated_usuario.nome:"Não identificado"))])])],1)])]}},{key:"body-cell-erroagendastatus",fn:function(t){return[t.row.erroagendastatus?a("q-td",{staticClass:"text-caption",class:"bg-"+t.row.erroagendastatus.color+"-2 text-"+t.row.erroagendastatus.color+"-10",attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"70px"}},["2"===t.row.erroagendastatus.value?a("span",[e._v(e._s(t.row.erroagenda?t.row.erroagenda.descricao:"?"))]):a("span",[e._v(e._s(t.row.erroagendastatus.description))]),a("q-tooltip",{attrs:{delay:700}},["2"===t.row.erroagendastatus.value?a("div",[e._v("Erro: "+e._s(t.row.erroagenda?t.row.erroagenda.descricao:"** Não identificado **"))]):a("span",[e._v("Cód.: "+e._s(t.row.erroagendastatus)+" - "+e._s(t.row.erroagendastatus.description))])])],1)]):e._e()]}},{key:"body-cell-dataconfirmacao",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis"},[e._v("\r\n                  "+e._s(t.row.dataconfirmacao?e.$helpers.dateToBR(t.row.dataconfirmacao):"-")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.dataconfirmacao?a("div",[e._v(e._s(e.$helpers.dateToBR(t.row.dataconfirmacao)))]):e._e()])],1)])]}},{key:"body-cell-datacoleta",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis"},[e._v("\r\n                  "+e._s(t.row.datacoleta?e.$helpers.dateToBR(t.row.datacoleta):"-")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.datacoleta?a("div",[e._v(e._s(e.$helpers.dateToBR(t.row.datacoleta)))]):e._e(),a("div",[e._v("Clique aqui para editar")])])],1)])]}},{key:"body-cell-coletaid",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis"},[e._v("\r\n                  "+e._s(t.row.coletaid?t.row.coletaid:"-")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.coletaid?a("div",[e._v("Coleta #"+e._s(t.row.coletaid))]):e._e()]),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.coletaid)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.coletaid))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1)],1)])]}},{key:"body-cell-notafiscal",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis"},[e._v("\r\n                  "+e._s(t.row.notafiscal?t.row.notafiscal:"-")+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[t.row.coletaid?a("div",[e._v("Nota Fiscal #"+e._s(t.row.notafiscal))]):e._e()]),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.notafiscal)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.notafiscal))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1)],1)])]}},{key:"body-cell-errocoletastatus",fn:function(t){return[a("q-td",{staticClass:"text-caption",class:"bg-"+t.row.errocoletastatus.color+"-2 text-"+t.row.errocoletastatus.color+"-10",attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"70px"}},["2"===t.row.errocoletastatus.value?a("span",[e._v(e._s(t.row.errocoleta?t.row.errocoleta.descricao:"?"))]):a("span",[e._v(e._s(t.row.errocoletastatus.description))]),a("q-tooltip",{attrs:{delay:700}},["2"===t.row.errocoletastatus.value?a("div",[e._v("Erro: "+e._s(t.row.errocoleta?t.row.errocoleta.descricao:"** Não identificado **"))]):a("span",[e._v("Cód.: "+e._s(t.row.errocoletastatus)+" - "+e._s(t.row.errocoletastatus.description))])])],1)])]}},{key:"body-cell-statusconfirmacaocoleta",fn:function(t){return[a("q-td",{staticClass:"text-caption",class:"bg-"+t.row.statusconfirmacaocoleta.color+"-2 text-"+t.row.statusconfirmacaocoleta.color+"-10",attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"70px"}},[a("span",[e._v(e._s(t.row.statusconfirmacaocoleta.description))]),a("q-tooltip",{attrs:{delay:700}},[a("span",[e._v("Cód.: "+e._s(t.row.statusconfirmacaocoleta)+" - "+e._s(t.row.statusconfirmacaocoleta.description))])])],1)])]}},{key:"body-cell-iniciofollowup",fn:function(t){return[a("q-td",{staticClass:"text-caption",class:"bg-"+t.row.iniciofollowup.color+"-2 text-"+t.row.iniciofollowup.color+"-10",attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"70px"}},[a("span",[e._v(e._s(t.row.iniciofollowup.description))]),a("q-tooltip",{attrs:{delay:700}},[a("span",[e._v("Cód.: "+e._s(t.row.iniciofollowup)+" - "+e._s(t.row.iniciofollowup.description))])])],1)])]}},{key:"body-cell-errodtpromessastatus",fn:function(t){return[a("q-td",{staticClass:"text-caption",class:"bg-"+t.row.errodtpromessastatus.color+"-2 text-"+t.row.errodtpromessastatus.color+"-10",attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"70px"}},["2"===t.row.errodtpromessastatus.value?a("span",[e._v(e._s(t.row.errodtpromessa?t.row.errodtpromessa.descricao:"?"))]):a("span",[e._v(e._s(t.row.errodtpromessastatus.description))]),a("q-tooltip",{attrs:{delay:700}},["2"===t.row.errodtpromessastatus.value?a("div",[e._v("Erro: "+e._s(t.row.errodtpromessa?t.row.errodtpromessa.descricao:"** Não identificado **"))]):a("span",[e._v("Cód.: "+e._s(t.row.errodtpromessastatus)+" - "+e._s(t.row.errodtpromessastatus.description))])])],1)])]}},{key:"body-cell-cliente",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"100px"}},[e._v("\r\n                  "+e._s(t.row.cliente&&(t.row.cliente.fantasia_followup&&""!==t.row.cliente.fantasia_followup)?t.row.cliente.fantasia_followup:"-")+"\r\n                  "),t.row.cliente?a("q-tooltip",{attrs:{delay:700}},[a("div",{staticClass:"text-weight-bold"},[e._v(e._s(t.row.cliente.fantasia&&""!==t.row.cliente.fantasia?t.row.cliente.fantasia:"-"))]),a("div",{staticClass:"text-caption"},[e._v(e._s(t.row.cliente.fantasia_followup&&""!==t.row.cliente.fantasia_followup?t.row.cliente.fantasia_followup:"-"))])]):e._e(),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.cliente.fantasia_followup)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.cliente.fantasia_followup))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1)],1)])]}},{key:"body-cell-clientefollowupid",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"300px"}},[e._v("\r\n                  "+e._s(t.row.cliente&&(t.row.cliente.followupid&&""!==t.row.cliente.followupid)?t.row.cliente.followupid:"-")+"\r\n                  "),t.row.cliente?a("q-tooltip",{attrs:{delay:700}},[a("div",{staticClass:"text-weight-bold"},[e._v(e._s(t.row.cliente.followupid&&""!==t.row.cliente.followupid?t.row.cliente.followupid:"-"))]),a("div",{staticClass:"text-caption"},[e._v(e._s(t.row.cliente.fantasia_followup&&""!==t.row.cliente.fantasia_followup?t.row.cliente.fantasia_followup:"-"))]),a("div",{staticClass:"text-caption"},[e._v(e._s(t.row.cliente.fantasia&&""!==t.row.cliente.fantasia?t.row.cliente.fantasia:"-"))])]):e._e(),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.cliente.followupid)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.cliente.followupid))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1)],1)])]}},{key:"body-cell-fornecrazao",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"130px"}},[e._v("\r\n                  "+e._s(t.row.fornecrazao)+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[t.row.fornecedor&&t.row.fornecedor.id>0?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actEditCliente(t.row.fornecedor.id)}}},[a("q-item-section",[e._v("Abrir cadastro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"edit"}})],1)],1):e._e(),a("q-separator",{attrs:{spaced:"",dark:""}}),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.fornecrazao)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.fornecrazao))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipForneceor(t.row))}})])],1)])]}},{key:"body-cell-forneccnpj",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",[e._v("\r\n                  "+e._s(e.$helpers.mascaraDocCPFCNPJ(t.row.forneccnpj))+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[t.row.fornecedor&&t.row.fornecedor.id>0?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actEditCliente(t.row.fornecedor.id)}}},[a("q-item-section",[e._v("Abrir cadastro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"edit"}})],1)],1):e._e(),a("q-separator",{attrs:{spaced:"",dark:""}}),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.forneccnpj)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.forneccnpj))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipForneceor(t.row))}})])],1)])]}},{key:"body-cell-fornectelefone",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",[e._v("\r\n                  "+e._s(t.row.fornectelefone)+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipForneceor(t.row))}})])],1)])]}},{key:"body-cell-forneccidade",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",[e._v("\r\n                  "+e._s(t.row.forneccidade+"/"+t.row.fornecuf)+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipForneceor(t.row))}})])],1)])]}},{key:"body-cell-itemdescricao",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"min-width":"100px","max-width":"350px"}},[e._v("\r\n                  "+e._s(t.row.itemdescricao)+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.$helpers.copytoclipboard(t.row.itemdescricao)}}},[a("q-item-section",[e._v("Copiar texto :: "+e._s(t.row.itemdescricao))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"content_copy"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.itemdescricao)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.itemdescricao))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipItem(t.row))}})])],1)])]}},{key:"body-cell-itemid",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"350px"}},[e._v("\r\n                  "+e._s(t.row.itemid)+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.$helpers.copytoclipboard(t.row.itemid)}}},[a("q-item-section",[e._v("Copiar texto :: "+e._s(t.row.itemid))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"content_copy"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.itemid)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.itemid))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipItem(t.row))}})])],1)])]}},{key:"body-cell-itemnumerolinhapedido",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"350px"}},[e._v("\r\n                  "+e._s(t.row.itemnumerolinhapedido)+"\r\n                  "),a("q-tooltip",{attrs:{delay:700}},[a("div",{domProps:{innerHTML:e._s(e.getToolTipItem(t.row))}})])],1)])]}},{key:"body-cell-ordemcompra",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticStyle:{"min-width":"80px"}},[e._v("\r\n                  "+e._s(t.row.ordemcompra)+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.ordemcompra)}}},[a("q-item-section",[e._v("Filtrar :: OC "+e._s(t.row.ordemcompra))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",[e._v("Ordem de compra: "+e._s(t.row.ordemcompra))])])],1)])]}},{key:"body-cell-comprador",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticStyle:{"min-width":"80px"}},[e._v("\r\n                  "+e._s(t.row.comprador)+"\r\n                  "),a("q-menu",{attrs:{"auto-close":"",anchor:"center middle",self:"center middle",dark:"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:"",dark:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,t.row.comprador)}}},[a("q-item-section",[e._v("Filtrar :: "+e._s(t.row.comprador))]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"search"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.actApplyFastFilter(t,null)}}},[a("q-item-section",[e._v("Limpar filtro")]),a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{icon:"clear"}})],1)],1)],1)],1),a("q-tooltip",{attrs:{delay:700}},[a("div",[e._v("Comprador: "+e._s(t.row.comprador))])])],1)])]}},{key:"bottom-row",fn:function(){return[a("q-tr",[a("q-td",{attrs:{colspan:"3"}}),a("q-td",[e.dataset.pagination&&e.dataset.pagination.rowsNumber?a("span",{staticClass:"text-caption rounded-borders bg-grey-3 q-pa-xs"},[e._v("\r\n                    Linhas: "),a("span",{staticClass:"text-subtitle2 q-pa-xs text-weight-bold"},[e._v(e._s(e.dataset.pagination.rowsNumber))])]):e._e()]),a("q-td",{attrs:{colspan:"3"}}),a("q-td",[e.dataset.counters&&e.dataset.counters.peso?a("div",{staticClass:"justify-end text-subtitle2 text-weight-bold full-width text-subtitle2 rounded-borders bg-grey-3 q-pa-xs"},[e._v("\r\n                    "+e._s(e.$helpers.formatRS(e.dataset.counters.peso,!1,0))+"\r\n                    "),a("q-tooltip",{attrs:{delay:700}},[a("div",[e._v("Peso total: "+e._s(e.$helpers.formatRS(e.dataset.counters.peso,!1,2)))])])],1):e._e()]),a("q-td",{attrs:{colspan:"3"}})],1)]},proxy:!0}],null,!1,3380948758)})],1)]),a("q-page-sticky",{attrs:{position:"top",expand:""}},[a("q-toolbar",{staticClass:"bg-white text-primary shadow-up-21"},[a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){return e.$store.dispatch("homedashboard/togglemenu")}}}),a("q-btn",{attrs:{flat:"",round:"",icon:"arrow_back"},on:{click:function(t){return e.$router.go(-1)}}}),e.$q.platform.is.mobile?e._e():a("q-separator",{attrs:{vertical:"",inset:"",spaced:""}}),a("q-toolbar-title",[e._v("Follow Up")]),a("q-btn",{attrs:{icon:"sync",label:e.$q.platform.is.mobile?"":"Atualizar",round:e.$q.platform.is.mobile,flat:"",loading:e.loading},on:{click:function(t){return e.refreshData(null)}}})],1)],1)],1)],1)},o=[],i=(a("a481"),a("28a5"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7f7f"),a("a34a")),n=a.n(i),l=(a("96cf"),a("c973")),s=a.n(l),c=(a("c5f6"),a("6c04")),u=a("2b0e"),d=a("e8f8"),p=a("7503"),f=a("4e72"),m=a("67d7"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"no-padding",staticStyle:{width:"400px"}},[a("div",{staticClass:"fit row wrap q-col-gutter-sm q-pa-sm"},[e.loading?e._e():a("div",{staticClass:"col-12"},[a("div",[a("q-option-group",{attrs:{type:"radio",color:"primary",options:e.optionsstatus,size:"sm",inline:""},on:{input:e.actSendInput},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),"2"===e.status?a("div",[a("selectfollowuperros",{staticClass:"full-width",attrs:{outlined:"",label:"Erro",nullabled:"",tipo:e.tipo},on:{input:e.actSendInput},model:{value:e.erro,callback:function(t){e.erro=t},expression:"erro"}})],1):e._e(),e.retornoerro&&e.retornoerro.ok?a("div",{staticClass:"text-caption text-red"},[e._v("\r\n          "+e._s(e.retornoerro.msg)+"\r\n        ")]):e._e()])])])])},g=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-select",{ref:"txtselect",staticClass:"full-width",attrs:{dense:!e.$q.platform.is.mobile,outlined:e.outlined,"input-debounce":"300",label:e.label,"stack-label":"","use-input":"",disable:e.disable,clearable:"","input-class":"text-uppercase ellipsis",options:e.options,"map-options":"","clear-icon":"clear",loading:e.loading||e.loadingdata,readonly:e.readonly},on:{input:e.sendEmit,filter:e.refreshData,clear:e.actOnFocus},scopedSlots:e._u([{key:"selected-item",fn:function(t){return[t.opt.ativo?e._e():a("q-icon",{attrs:{name:"block",color:"red"}}),t.opt&&t.opt.id>0?a("div",{staticClass:" text-caption",class:t.opt.ativo?"":"text-red",staticStyle:{"max-width":"75%"}},[a("div",{staticClass:"ellipsis"},[e._v(e._s(t.opt.descricao))]),a("q-tooltip",[t.opt.ativo?e._e():a("div",[e._v("** CADASTRO INATIVO **")]),a("div",[e._v(e._s(t.opt.descricao))])])],1):e._e()]}},{key:"option",fn:function(t){return[a("q-item",e._g(e._b({staticClass:"border-bottom-separator",attrs:{dense:""}},"q-item",t.itemProps,!1),t.itemEvents),[t.opt.ativo?e._e():a("q-item-section",{attrs:{avatar:"",top:""}},[a("q-icon",{attrs:{name:"block",color:"red"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.opt.descricao))])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.opt.id))])],1)],1)]}},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\r\n              Sem resultados\r\n            ")])],1)]},proxy:!0}]),model:{value:e.modelselect,callback:function(t){e.modelselect=t},expression:"modelselect"}})],1)},w=[],b=a("970b"),y=a.n(b),x=a("5bc3"),_=a.n(x),k=(a("551c"),a("1421")),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",attrs:{maximized:e.$q.platform.is.mobile},on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin",class:e.$q.platform.is.mobile?"":"full-70"},[e.$q.platform.is.mobile?e._e():a("q-bar",{staticClass:"bg-primary text-white"},[a("span",{staticClass:"ellipsis text-subtitle2 q-ml-xs"},[e._v("Cadastro :: "+e._s(e.loading?"Consultando":e.adding?"Novo cadastro":e.dataset?e.dataset.descricao_old+" [id: "+e.dataset.id+"]":"?"))]),a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:e.actClose}},[a("q-tooltip",[e._v("Sair sem salvar (ESC)")])],1)],1),e.$q.platform.is.mobile?a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[e._v("\n        Cadastro :: "+e._s(e.loading?"Consultando":e.adding?"Novo":e.dataset?e.dataset.descricao_old:"?")+"\n      ")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:e.actClose}})],1):e._e(),a("q-card-section",[e.loading?e._e():a("div",[a("formedit",{attrs:{adding:e.adding,idstart:e.dataset.id,mode:"dialog"},on:{updated:e.actUpdated,close:e.onClose}})],1)])],1)],1)},C=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{class:e.$q.platform.is.mobile?"no-padding":"",attrs:{bordered:"integrado"==e.mode,flat:""}},[e.loading?a("q-card-section",{staticStyle:{padding:"0"}},[a("q-linear-progress",{attrs:{indeterminate:""}}),a("div",{staticClass:"text-primary text-center q-pa-md"},[e._v("Carregando...")])],1):e._e(),e.loading||e.adding||e.dataset.id?e._e():a("q-card-section",{attrs:{horizontal:""}},[a("div",{staticClass:"full-width text-center q-pa-lg"},[a("div",{staticClass:"text-h6 q-pa-md"},[e._v("Nenhum registro encontrado!")]),a("q-btn",{attrs:{label:"Voltar para consultas",outline:"",to:{name:"cadastro.motoristas"}}})],1)]),!e.loading&&(e.adding||!e.adding&&e.dataset.id>0)&&"integrado"==e.mode?a("q-card-section",{attrs:{horizontal:""}},[a("div",{staticClass:"text-h6 q-py-sm q-px-md"},[e._v("Categoria de Erro")]),a("q-space"),!e.loading&&!e.adding&&e.permitedelete&&e.permitedelete.ok?a("q-btn",{attrs:{color:"negative",icon:"delete_forever",flat:"",label:e.$q.platform.is.mobile?"":"Excluir",stretch:""},on:{click:e.actDelete}}):e._e()],1):e._e(),!e.loading&&(e.adding||!e.adding&&e.dataset.id>0)&&"integrado"==e.mode?a("q-separator",{staticClass:"q-pa-0 q-ma-0"}):e._e(),!e.loading&&(e.adding||!e.adding&&e.dataset.id>0)?a("q-card-section",{class:e.$q.platform.is.mobile?"no-padding":""},[a("q-form",{attrs:{autofocus:""},on:{submit:e.actSave}},[a("div",{staticClass:"fit row wrap q-col-gutter-x-md q-col-gutter-y-md q-pb-md"},[a("div",{staticClass:"col-md-12 col-xs-12"},[a("q-input",{attrs:{outlined:"",label:"Descrição *","stack-label":"",maxlength:"150",counter:"",autofocus:"",dense:!e.$q.platform.is.mobile,disable:!e.dataset.ativo,readonly:e.edicaobloqueada,"lazy-rules":"",rules:[function(e){return e&&e.length<=150||"Obrigatório informar o nome. Máximo 150 caracteres"}]},model:{value:e.dataset.descricao,callback:function(t){e.$set(e.dataset,"descricao",t)},expression:"dataset.descricao"}})],1),a("div",{staticClass:"col-md-6 col-xs-12"},[a("q-select",{attrs:{outlined:"",options:e.optionstipo,label:"Tipo de erro",readonly:e.edicaobloqueada,"emit-value":"","map-options":"","stack-label":"",dense:!e.$q.platform.is.mobile,disable:!e.dataset.ativo},model:{value:e.dataset.tipo,callback:function(t){e.$set(e.dataset,"tipo",t)},expression:"dataset.tipo"}})],1),a("div",{staticClass:"col-md-6 col-xs-12"},[a("q-checkbox",{attrs:{label:"Ativo",dense:"",disable:e.edicaobloqueada},model:{value:e.dataset.ativo,callback:function(t){e.$set(e.dataset,"ativo",t)},expression:"dataset.ativo"}})],1)]),a("q-separator",{attrs:{spaced:""}}),"integrado"==e.mode?a("div",[a("q-btn",{attrs:{label:"Salvar",type:"submit",color:"primary",disable:e.edicaobloqueada}}),"integrado"==e.mode?a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Voltar",color:"primary",flat:""},on:{click:function(t){return e.$router.go(-1)}}}):e._e(),"dialog"==e.mode?a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Fechar",color:"primary",flat:""},on:{click:e.actClose}}):e._e()],1):e._e(),"dialog"==e.mode?a("div",[a("q-btn",{class:e.$q.platform.is.mobile?"full-width":"",attrs:{label:"Salvar",type:"submit",color:"primary",disable:e.edicaobloqueada,size:e.$q.platform.is.mobile?"lg":"md"}}),a("q-btn",{class:e.$q.platform.is.mobile?"full-width q-mt-md":"q-ml-sm",attrs:{label:"Fechar",color:"primary",flat:"",size:e.$q.platform.is.mobile?"lg":"md"},on:{click:e.actClose}})],1):e._e(),e.loading||e.adding?e._e():a("logusuario",{attrs:{createdat:e.dataset.created_at,createdusuario:e.dataset.created_usuario,updatedat:e.dataset.updated_at,updatedusuario:e.dataset.updated_usuario}})],1)],1):e._e()],1)],1)},S=[],F=(a("7514"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"fit column wrap justify-end  content-end text-caption"},[e.createdat||e.createdusuario?a("div",{staticClass:"text-right  q-gutter-x-sm"},[a("q-icon",{attrs:{name:"fas fa-plus"}}),e._v(" "+e._s(e.createdat?e.$helpers.datetimeRelativeToday(e.createdat):"")+"\r\n         "+e._s(e.createdusuario?" por "+e.$helpers.strEllipsis(e.createdusuario.nome,45):"")+"\r\n        "),a("q-tooltip",[a("div",[e._v("Criado por  "+e._s(e.createdusuario?e.createdusuario.nome:"[não identificado]"))]),e.createdat?a("div",[e._v("em  "+e._s(e.$helpers.datetimeToBR(e.createdat)))]):e._e()])],1):e._e(),!e.updatedat&&!e.updatedusuario||e.hideupdate?e._e():a("div",{staticClass:"text-right  q-gutter-x-sm"},[a("q-icon",{attrs:{name:"fas fa-edit"}}),e._v(" "+e._s(e.updatedat?e.$helpers.datetimeRelativeToday(e.updatedat):"")+"\r\n        "+e._s(e.updatedusuario?" por "+e.$helpers.strEllipsis(e.updatedusuario.nome,45):"**")+"\r\n        "),a("q-tooltip",[a("div",[e._v("Atualizado por  "+e._s(e.updatedusuario?e.updatedusuario.nome:"[ ** não identificado]"))]),e.updatedat?a("div",[e._v("em  "+e._s(e.$helpers.datetimeToBR(e.updatedat)))]):e._e()])],1)])])}),E=[],T={name:"cpn-logusuario",props:["createdat","updatedat","createdusuario","updatedusuario","hideupdate"],data:function(){return{}},mounted:function(){return s()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},P=T,D=a("2877"),O=a("0016"),N=a("05c0"),R=a("eebe"),I=a.n(R),Q=Object(D["a"])(P,F,E,!1,null,null,null),A=Q.exports;I()(Q,"components",{QIcon:O["a"],QTooltip:N["a"]});var L={name:"followup.cadastro.erros.edit.cnp",components:{logusuario:A},props:{mode:{type:String,default:function(){return"integrado"}},adding:{type:Boolean,default:function(){return!0}},idstart:{type:Number,default:function(){return null}}},data:function(){var e=new se;return{permitesave:null,permitedelete:null,showadd:!1,saving:!1,optionstipo:[{value:"agenda",label:"Erro de agendamento"},{value:"coleta",label:"Erro de coleta"},{value:"dtpromessa",label:"Erro de data da promessa"}],showsearch:!1,dataset:e,breadcrumbslist:[{to:{name:"followup.consulta"},label:"Follow Up"},{to:{name:"followup.cadastro.erros"},label:"Categorias de erros"}],showchangepwd:!1,loading:!1,deleting:!1,posting:!1,msgError:""}},computed:{edicaobloqueada:function(){return!this.permitesave||!this.permitesave.ok}},mounted:function(){var e=this;return s()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.permitesave=e.$helpers.permite("followup.consulta"),e.permitedelete=e.$helpers.permite("followup.consulta"),t.next=4,e.init();case 4:case"end":return t.stop()}}),t)})))()},methods:{actChangePwdShow:function(){var e=this;this.showchangepwd=!this.showchangepwd,this.showchangepwd?this.$nextTick((function(){e.dataset.newpwd=null,e.$refs.txtsenha.$el.focus()})):this.dataset.newpwd=null},init:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!a.adding){t.next=7;break}a.idstart=null,a.loading=!0,a.dataset.limpardados(),t.next=10;break;case 7:return a.loading=!0,t.next=10,a.refreshData();case 10:a.loading=!1,a.$emit("updated",a.dataset);case 12:case"end":return t.stop()}}),t)})))()},actSave:function(){var e=this;return s()(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,t.prev=1,a.saving=!0,a.dataset.senhainformada=!1,a.showchangepwd&&(a.dataset.senhainformada=!0),t.next=12;break;case 7:return t.prev=7,t.t0=t["catch"](1),a.$helpers.showDialog({ok:!1,msg:t.t0.message}),a.saving=!1,t.abrupt("return");case 12:return t.next=14,a.dataset.save();case 14:r=t.sent,r.ok?(a.showchangepwd=!1,a.$q.notify({message:"Cadastro salvo!",color:"positive",actions:[{label:"OK",color:"white",handler:function(){}}]}),"dialog"===a.mode&&(a.$emit("updated",a.dataset),a.$emit("close",!0)),a.adding&&"integrado"===a.mode&&a.$nextTick((function(){a.loading=!0,a.$router.push({name:"followup.cadastro.erros.edit",params:{id:a.dataset.id}}),a.$emit("updated",a.dataset),a.loading=!1}))):a.$helpers.showDialog(r,!0),a.saving=!1;case 17:case"end":return t.stop()}}),t,null,[[1,7]])})))()},actClose:function(){this.$emit("close",!1)},actDelete:function(){var e=this;return s()(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.deleting=!0,r=a.dataset.deleteWithQuestion(a),t.next=5,r.then((function(e){e.ok?(a.$q.notify({message:"Registro excluído",color:"positive",caption:e.msg,actions:[{label:"OK",color:"white",handler:function(){}}]}),a.$nextTick((function(){a.$router.push({name:"followup.cadastro.erros"})}))):e.msg&&""!==e.msg&&a.$helpers.showDialog(e),a.deleting=!1}));case 5:case"end":return t.stop()}}),t)})))()},refreshData:function(){var e=this;return s()(n.a.mark((function t(){var a,r,o;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.loading=!0,a.msgError="",t.next=5,a.dataset.find(a.idstart);case 5:if(r=t.sent,!r.ok){t.next=9;break}t.next=13;break;case 9:return a.loading=!1,o=a.$helpers.showDialog(r),t.next=13,o.then((function(){}));case 13:a.loading=!1;case 14:case"end":return t.stop()}}),t)})))()}}},z=L,B=a("f09f"),j=a("a370"),M=a("6b1d"),J=a("9c40"),Y=a("2c91"),H=a("eb85"),U=a("0378"),V=a("27f9"),K=a("ddd8"),G=a("8f8e"),W=Object(D["a"])(z,$,S,!1,null,null,null),X=W.exports;I()(W,"components",{QCard:B["a"],QCardSection:j["a"],QLinearProgress:M["a"],QBtn:J["a"],QSpace:Y["a"],QSeparator:H["a"],QForm:U["a"],QInput:V["a"],QSelect:K["a"],QCheckbox:G["a"]});var Z={name:"followup.cadastro.erros.edit.dialog",components:{formedit:X},props:{adding:{type:Boolean,default:function(){return!0}},dataset:{type:Object,default:function(){return null}}},data:function(){return{loading:!0}},mounted:function(){return s()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{actClose:function(){this.onClose(!1)},onClose:function(e){this.$emit("ok",e),this.hide()},actUpdated:function(e){return s()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},show:function(){var e=this;this.$refs.dialog.show(),setTimeout((function(){e.loading=!1}),500)},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.aceite&&this.justificativa.length>5&&(this.$emit("ok",!0),this.hide())}}},ee=Z,te=a("24e8"),ae=a("d847"),re=a("65c6"),oe=a("6ac5"),ie=Object(D["a"])(ee,q,C,!1,null,null,null),ne=ie.exports;I()(ie,"components",{QDialog:te["a"],QCard:B["a"],QBar:ae["a"],QSpace:Y["a"],QBtn:J["a"],QTooltip:N["a"],QToolbar:re["a"],QToolbarTitle:oe["a"],QCardSection:j["a"]});var le=function(){function e(t){y()(this,e),this.limpardados(),t&&this.cloneFrom(t)}return _()(e,[{key:"limpardados",value:function(){var e=s()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.id=null,this.descricao="",this.descricao_old="",this.ativo=!0,this.tipo="agenda",this.created_at=null,this.updated_at=null,this.created_usuario=new k["a"],this.updated_usuario=new k["a"];case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cloneFrom",value:function(){var e=s()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this,a.limpardados(),t){e.next=4;break}return e.abrupt("return");case 4:if("undefined"!==typeof t.id&&(a.id=t.id),"undefined"!==typeof t.descricao&&(a.descricao=t.descricao),a.descricao_old=t.descricao,"undefined"!==typeof t.tipo&&(a.tipo=t.tipo),a.ativo=u["a"].prototype.$helpers.toBool(t.ativo),t.created_at&&(a.created_at=t.created_at),t.updated_at&&(a.updated_at=t.updated_at),!t.created_usuario){e.next=14;break}return e.next=14,a.created_usuario.cloneFrom(t.created_usuario);case 14:if(!t.updated_usuario){e.next=17;break}return e.next=17,a.updated_usuario.cloneFrom(t.updated_usuario);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"find",value:function(){var e=s()(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,a.limpardados(),e.next=4,u["a"].prototype.$axios.get("v1/errosfollowup/"+t).then((function(e){var t=e.data,r={ok:!1,msg:""};return t&&(r.msg=t.msg?t.msg:"",t.ok&&(r.ok=!0,a.cloneFrom(t.data))),r})).catch((function(e){return u["a"].prototype.$helpers.errorReturn(e)}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=s()(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,t.descricao){e.next=4;break}throw new Error("Descrição é obrigatória");case 4:if(!(t.descricao.length<2)){e.next=6;break}throw new Error("Descrição deve ter no mínimo 2 caracteres");case 6:if(t.tipo){e.next=8;break}throw new Error("Informe o tipo de cadastro");case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{ok:!1,msg:e.t0.message,warning:!0});case 13:return a={id:t.id&&t.id>0?t.id:null,descricao:t.descricao,tipo:t.tipo,ativo:t.ativo},e.next=16,u["a"].prototype.$axios.post("v1/errosfollowup",a).then((function(e){var a=e.data,r={ok:!1,msg:""};return a&&(r.msg=a.msg?a.msg:"",a.ok&&(r.ok=!0,a.data&&t.cloneFrom(a.data))),r})).catch((function(e){return u["a"].prototype.$helpers.errorReturn(e)}));case 16:return r=e.sent,e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteWithQuestion",value:function(){var e=s()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this,e.prev=1,e.next=7;break;case 4:return e.prev=4,e.t0=e["catch"](1),e.abrupt("return",{ok:!1,msg:e.t0.message,warning:!1});case 7:return e.abrupt("return",new Promise((function(e){t.$q.dialog({title:"Excluir cadastro?",message:'Para excluir o cadastro "'+a.descricao+'" digite o código '+a.id+"?",prompt:{model:"",type:"text"},cancel:!0}).onOk(function(){var t=s()(n.a.mark((function t(r){var o;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(parseInt(r)!==parseInt(a.id)){t.next=7;break}return t.next=3,a.delete();case 3:o=t.sent,e(o),t.next=8;break;case 7:e({ok:!1,msg:"Informação inválida",warning:!0});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){e({ok:!1})}))})));case 8:case"end":return e.stop()}}),e,this,[[1,4]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=s()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,u["a"].prototype.$axios.delete("v1/errosfollowup/"+t.id).then((function(e){var t=e.data,a={ok:!1,msg:""};return t&&(a.msg=t.msg?t.msg:"",t.ok&&(a.ok=!0)),a})).catch((function(e){return u["a"].prototype.$helpers.errorReturn(e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dialogAddOrEdit",value:function(){var e=s()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this,e.prev=1,e.next=7;break;case 4:return e.prev=4,e.t0=e["catch"](1),e.abrupt("return",{ok:!1,msg:e.t0.message,warning:!1});case 7:return e.abrupt("return",new Promise((function(e){t.$q.dialog({parent:t,component:ne,dataset:a,adding:!(a.id>0),cancel:!0}).onOk(function(){var t=s()(n.a.mark((function t(a){var r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={ok:a},e(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){e({ok:!1})}))})));case 8:case"end":return e.stop()}}),e,this,[[1,4]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),se=le,ce=function(){function e(){y()(this,e),this.limpardados(),this.pagination={page:1,rowsPerPage:20,sortBy:"dataref",descending:!1,rowsNumber:0},this.showall=!1}return _()(e,[{key:"limpardados",value:function(){var e=s()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.itens=null;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readPropsTable",value:function(e){if(e){var t=e.pagination,a=t.page,r=t.rowsPerPage,o=t.sortBy,i=t.descending,n=t.rowsNumber,l=e.filter;this.filter!==l&&(this.page=1),this.pagination={page:a,rowsPerPage:r,sortBy:o,descending:i,rowsNumber:n},this.filter=l}}},{key:"fetch",value:function(){var e=s()(n.a.mark((function e(){var t,a,r,o=this;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.limpardados(),a={find:t.filter,perpage:t.pagination.rowsPerPage,page:t.pagination.page,sortby:t.pagination.sortBy,descending:!0===t.pagination.descending},t.ids&&null!==t.ids&&(a["ids"]=t.ids.join(",")),t.showall&&!0===t.showall&&(a["showall"]=1),"undefined"!==typeof t.tipo&&""!==t.tipo&&(a["tipo"]=t.tipo),e.next=8,u["a"].prototype.$axios.get("v1/errosfollowup",{params:a}).then((function(e){var a=e.data,r={ok:!1,msg:""};if(a&&(r.msg=a.msg?a.msg:"",a.ok)){a=a.data,t.total=a.total?parseInt(a.total):0,o.pagination.page=a.current_page,o.pagination.rowsPerPage=a.per_page,o.pagination.descending=!0===a.descending,o.pagination.rowsNumber=a.total?parseInt(a.total):0,r.ok=!0,t.itens=[];for(var i=0;i<a.rows.length;i++){var n=a.rows[i],l=new se(n);l.id>0&&t.itens.push(l)}}return r})).catch((function(e){return u["a"].prototype.$helpers.errorReturn(e)}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ue=ce,de={components:{},props:["value","tipo","outlined","label","clearable","nullabled","loading","readonly","disable"],data:function(){var e=new ue;return{dataset:e,modelselect:new se,options:null,showing:!1,loadingdata:!1}},mounted:function(){var e=this;return s()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.modelselect=new se(e.value);case 1:case"end":return t.stop()}}),t)})))()},computed:{selecao:function(){var e=this;if(!e.options)return!1;for(var t=null,a=0;a<e.options.length;a++){var r=e.options[a];if(e.registroselecionado===r.id){t=r.dados;break}}return t}},watch:{loading:function(){var e=s()(n.a.mark((function e(t){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t||this.value&&(this.modelselect=new se(this.value));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:{actOnFocus:function(){var e=this;this.$nextTick((function(){e.$refs.txtselect.$el.focus()}))},sendEmit:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!e.loading){t.next=3;break}return t.abrupt("return");case 3:a.$emit("input",a.modelselect),a.$emit("updated");case 5:case"end":return t.stop()}}),t)})))()},refreshData:function(e,t){var a=this;return s()(n.a.mark((function r(){var o,i;return n.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=a,o.loadingdata=!0,o.dataset.filter=e,o.dataset.tipo=o.tipo,o.dataset.showinativos=!1,r.next=7,o.dataset.fetch();case 7:i=r.sent,i.ok?t((function(){a.options=[];for(var e=0;e<o.dataset.itens.length;e++){var t=o.dataset.itens[e];o.options.push(t)}})):i.msg&&""!==i.msg&&o.$helpers.showDialog(i),o.loadingdata=!1;case 10:case"end":return r.stop()}}),r)})))()}}},pe=de,fe=(a("1cf5"),a("66e5")),me=a("4074"),ve=a("0170"),ge=Object(D["a"])(pe,h,w,!1,null,null,null),he=ge.exports;I()(ge,"components",{QSelect:K["a"],QIcon:O["a"],QTooltip:N["a"],QItem:fe["a"],QItemSection:me["a"],QItemLabel:ve["a"]});var we={components:{selectfollowuperros:he},props:["value","tipo"],data:function(){return{retornoerro:{ok:!1,msg:""},loading:!0,status:"0",erro:null,optionsstatus:[{label:"Sem status",value:"0",color:"grey"},{label:"OK",value:"1",color:"green"},{label:"Com erro",value:"2",color:"red"}]}},computed:{hasError:function(){return this.retornoerro.ok}},mounted:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,a.value&&("undefined"!==typeof a.status&&(a.status=a.value.status),"undefined"!==typeof a.erro&&(a.erro=a.value.erro)),a.checkError(),a.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{checkError:function(){var e=this;try{if("undefined"===typeof e.status)throw new Error("Selecione um status");if("0"!==e.status&&"1"!==e.status&&"2"!==e.status)throw new Error("Selecione um status");if("2"===e.status){if("undefined"===typeof e.erro)throw new Error("Para o ");if(!e.erro)throw new Error("Obrigatório informar o erro do status");if(!e.erro.id)throw new Error("Obrigatório informar o erro do status");if(!(e.erro.id>0))throw new Error("Obrigatório informar o erro do status")}else e.erro=null;return e.retornoerro.ok=!1,e.retornoerro.msg="",!1}catch(t){return e.retornoerro.ok=!0,e.retornoerro.msg=t.message,!0}},actSendInput:function(e){var t=this;return s()(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.prev=1,e.next=4,a.checkError();case 4:t.$emit("input",{status:a.status,erro:a.erro}),e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},be=we,ye=a("9f0a"),xe=Object(D["a"])(be,v,g,!1,null,null,null),_e=xe.exports;I()(xe,"components",{QOptionGroup:ye["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"no-padding",staticStyle:{width:"400px"}},[a("div",{staticClass:"fit row wrap q-col-gutter-sm q-pa-sm"},[e.loading?e._e():a("div",{staticClass:"col-12"},[a("div",[a("q-option-group",{attrs:{type:"radio",color:"primary",options:e.optionsstatus,size:"sm",inline:""},on:{input:e.actSendInput},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),e.retornoerro&&e.retornoerro.ok?a("div",{staticClass:"text-caption text-red"},[e._v("\r\n          "+e._s(e.retornoerro.msg)+"\r\n        ")]):e._e()])])])])},qe=[],Ce={props:["value"],data:function(){return{retornoerro:{ok:!1,msg:""},loading:!0,status:"0",optionsstatus:[{label:"Sem status",value:"0",color:"grey"},{label:"Conecta",value:"1",color:"orange"},{label:"Fornecedor",value:"2",color:"blue"}]}},computed:{hasError:function(){return this.retornoerro.ok}},mounted:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,"undefined"!==typeof a.value&&(a.status=a.value),a.checkError(),a.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{checkError:function(){var e=this;try{if("undefined"===typeof e.status)throw new Error("Selecione um status");if("0"!==e.status&&"1"!==e.status&&"2"!==e.status)throw new Error("Selecione um status");return e.retornoerro.ok=!1,e.retornoerro.msg="",!1}catch(t){return e.retornoerro.ok=!0,e.retornoerro.msg=t.message,!0}},actSendInput:function(e){var t=this;return s()(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.prev=1,e.next=4,a.checkError();case 4:t.$emit("input",a.status),e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},$e=Ce,Se=Object(D["a"])($e,ke,qe,!1,null,null,null),Fe=Se.exports;I()(Se,"components",{QOptionGroup:ye["a"]});var Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"no-padding",staticStyle:{width:"400px"}},[a("div",{staticClass:"fit row wrap q-col-gutter-sm q-pa-sm"},[e.loading?e._e():a("div",{staticClass:"col-12"},[a("div",[a("q-option-group",{attrs:{type:"radio",color:"primary",options:e.optionsstatus,size:"sm",inline:""},on:{input:e.actSendInput},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),e.retornoerro&&e.retornoerro.ok?a("div",{staticClass:"text-caption text-red"},[e._v("\r\n          "+e._s(e.retornoerro.msg)+"\r\n        ")]):e._e()])])])])},Te=[],Pe={props:["value"],data:function(){return{retornoerro:{ok:!1,msg:""},loading:!0,status:"0",optionsstatus:[{label:"Sem status",value:"0",color:"grey"},{label:"Ok",value:"1",color:"green"},{label:"Erro",value:"2",color:"erro"}]}},computed:{hasError:function(){return this.retornoerro.ok}},mounted:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,"undefined"!==typeof a.value&&(a.status=a.value),a.checkError(),a.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{checkError:function(){var e=this;try{if("undefined"===typeof e.status)throw new Error("Selecione um status");if("0"!==e.status&&"1"!==e.status&&"2"!==e.status)throw new Error("Selecione um status");return e.retornoerro.ok=!1,e.retornoerro.msg="",!1}catch(t){return e.retornoerro.ok=!0,e.retornoerro.msg=t.message,!0}},actSendInput:function(e){var t=this;return s()(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.prev=1,e.next=4,a.checkError();case 4:t.$emit("input",a.status),e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},De=Pe,Oe=Object(D["a"])(De,Ee,Te,!1,null,null,null),Ne=Oe.exports;I()(Oe,"components",{QOptionGroup:ye["a"]});var Re={name:"followup.consulta",components:{inputstatusagendamento:_e,inputstatusiniciofup:Fe,inputstatusconfirmacaocoleta:Ne,inputdata:m["a"]},data:function(){var e=new d["a"];return{dataset:e,rows:[],inputStatusAgendaPopupEdit:{status:null,erro:null},permiteoperacionalcoletasbaixar:null,permiteoperacionalcoletasbaixardesfazer:null,permiteoperacionalcoletascancelar:null,permiteoperacionalcoletasconsulta:null,permiteoperacionalcoletassave:null,error:null,selected_rows:[],showtable:!0,orderbylist:{dhimportacao:"desc"},visiblecolumns:["id","dhimportacao","contato","cliente","clientefollowupid","datasolicitacao","fornecrazao","forneccidade","fornecuf","erroagendastatus","errocoletastatus","errodtpromessastatus","aprovacaooc","dataagendamentocoleta","datapromessa","iniciofollowup","dataconfirmacao","coletaid","datacoleta","statusconfirmacaocoleta","ordemcompra","ordemcompradig","notafiscal","observacao","comprador","itemid","itemdescricao","qtdesolicitada","qtderecebida","vlrunitario","qtdedevida"],columns:[{name:"id",align:"center",label:"id",field:"id",style:"min-width: 70px;",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"updatedusuario",align:"left",label:"Usuário",field:"updated_usuario",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"dhimportacao",align:"center",label:"Data importação",field:"dhimportacao",filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0}},{name:"contato",align:"left",label:"Contato",field:"contato",filterconfig:{filtertype:"text",filtertype2:"checkexistefilter",value:null,value2:null,allowempty2:!0,sorted:!1}},{name:"fornecrazao",align:"left",label:"Fornecedor",field:"fornecrazao",filterconfig:{filtertype:"text",filtertype2:"clientefilter",value2:null,datatype2:Number,value:null,sorted:!0}},{name:"forneccnpj",align:"left",label:"CNPJ",field:"forneccnpj",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"fornectelefone",align:"left",label:"Telefone",field:"fornectelefone",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"forneccidade",align:"left",label:"Cidade/UF",field:"forneccidade",format:function(e,t){return e+"/"+t.fornecuf},filterconfig:{filtertype:"text",filtertype2:"cidadefilter",value2:null,datatype2:Number,value:null,sorted:!0}},{name:"fornecedorid",align:"center",label:"Fornecedor ID",field:"fornecedorid",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"datasolicitacao",align:"center",label:"Data Solicitação",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},field:"datasolicitacao",filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0,updatemass:{value:null,type:"date"}}},{name:"cliente",align:"left",label:"Cliente",field:"cliente",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"clienterazaosocial",align:"left",label:"Cliente Razão Social",field:function(e){return e.cliente?e.cliente.razaosocial:null},filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"clientefollowupid",align:"left",label:"Cliente FUP ID",field:function(e){return e.cliente?e.cliente.followupid:null},filterconfig:{filtertype:"text",value:null,filtertype2:"clientefollowupidfilter",value2:null,datatype2:JSON,sorted:!0}},{name:"clienteid",align:"center",label:"Cliente ID",field:function(e){return e.cliente?e.cliente.id:null},filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"erroagendastatus",align:"left",label:"St. Agenda",field:"erroagendastatus",filterconfig:{filtertype:"text",value:null,filtertype2:"statusagendafilter",value2:null,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"inputStatusAgendaPopupEdit"}}},{name:"errocoletastatus",align:"left",label:"St. Coleta",field:"errocoletastatus",filterconfig:{filtertype:"text",value:null,filtertype2:"statuscoletafilter",value2:null,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"inputStatusAgendaPopupEdit"}}},{name:"errodtpromessastatus",align:"left",label:"St. Promessa",field:"errodtpromessastatus",filterconfig:{filtertype:"text",value:null,filtertype2:"statusdtpromessafilter",value2:null,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"inputStatusAgendaPopupEdit"}}},{name:"iniciofollowup",align:"left",label:"Início FUP",field:"iniciofollowup",filterconfig:{filtertype:"text",value:null,filtertype2:"statusiniciofupfilter",value2:null,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"inputstatusiniciofup"},tooltip:"<div>Informe:</div><div><b>0</b> ou <b>SEM</b> para filtrar sem status</div><div><b>1</b> ou <b>CONECTA</b> para filtrar com status CONECTA</div><div><b>2</b> ou <b>FORNECEDOR</b> para filtrar com status FORNECEDOR</div>"}},{name:"statusconfirmacaocoleta",align:"left",label:"St. Confirmação",field:"statusconfirmacaocoleta",filterconfig:{filtertype:"text",value:null,filtertype2:"statusconfirmacaocoletafilter",value2:null,datatype2:JSON,sorted:!0,tooltip:"<div>Informe:</div><div><b>0</b> ou <b>SEM</b> para filtrar sem status</div><div><b>1</b> ou <b>OK</b> para filtrar com status OK</div><div><b>2</b> ou <b>ERRO</b> para filtrar com status ERRO</div>",updatemass:{value:null,type:"inputstatusconfirmacaocoleta"}}},{name:"aprovacaooc",align:"center",label:"Aprovação OC",field:"aprovacaooc",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0}},{name:"dataagendamentocoleta",align:"center",label:"Agenda Coleta",field:"dataagendamentocoleta",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0,updatemass:{value:null,type:"date"}}},{name:"dataconfirmacao",align:"center",label:"Data Confirmação",field:"dataconfirmacao",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0,updatemass:{value:null,type:"date"}}},{name:"dataliberacao",align:"center",label:"Data Liberação",field:"dataliberacao",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0,updatemass:{value:null,type:"date"}}},{name:"datahorafollowup",align:"center",label:"Data FUP",field:"datahora_followup",format:function(e,t){return e?u["a"].prototype.$helpers.datetimeToBR(e,!1,!0):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0,updatemass:{value:null,type:"date"}}},{name:"coletaid",align:"center",label:"Nº da Coleta",field:"coletaid",filterconfig:{filtertype:"text",value:null,filtertype2:"multivalorfilter",value2:null,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"integer"}}},{name:"datacoleta",align:"center",label:"Data Coleta",field:"datacoleta",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0}},{name:"datapromessa",align:"center",label:"Data Promessa",field:"datapromessa",format:function(e,t){return e?u["a"].prototype.$helpers.dateToBR(e):""},filterconfig:{filtertype:"datetimeinterval",value:null,sorted:!0}},{name:"ordemcompra",align:"center",label:"O.C.",field:"ordemcompra",filterconfig:{filtertype:"text",value:null,filtertype2:"multivalorfilter",value2:null,datatype2:JSON,sorted:!0}},{name:"ordemcompradig",align:"center",label:"Dígito",field:"ordemcompradig",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"observacao",align:"left",label:"Observação",field:"observacao",filterconfig:{filtertype:"text",filtertype2:"checkexistefilter",value:null,value2:null,allowempty2:!0,sorted:!1}},{name:"notafiscal",align:"center",label:"Nota Fiscal",field:"notafiscal",filterconfig:{filtertype:"text",value:null,filtertype2:"multivalorfilter",value2:null,allowempty2:!0,datatype2:JSON,sorted:!0,updatemass:{value:null,type:"integer"}}},{name:"requisicao",align:"left",label:"Requisição",field:"requisicao",style:"max-width: 100px;",classes:"ellipsis",filterconfig:{filtertype:"text",value:null,filtertype2:"multivalorfilter",value2:null,datatype2:JSON,sorted:!0}},{name:"itemnumerolinhapedido",align:"center",label:"Nº linha do item",field:"itemnumerolinhapedido",style:"max-width: 100px;",classes:"ellipsis",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"comprador",align:"left",label:"Comprador",field:"comprador",style:"max-width: 150px;",classes:"ellipsis",filterconfig:{filtertype:"text",value:null,filtertype2:"compradorfilter",value2:null,datatype2:JSON,sorted:!0}},{name:"email",align:"left",label:"E-mail",field:"email",style:"max-width: 250px;",classes:"ellipsis",filterconfig:{filtertype:"text",value:null,sorted:!0}},{name:"itemid",align:"left",label:"Cód. Item",field:"itemid",filterconfig:{filtertype:"text",value:null,filtertype2:"itemidfilter",value2:null,datatype2:JSON,sorted:!0}},{name:"itemdescricao",align:"left",label:"Item",field:"itemdescricao",filterconfig:{filtertype:"text",value:null,filtertype2:"itensdescricaofilter",value2:null,datatype2:JSON,sorted:!0}},{name:"qtdesolicitada",align:"right",label:"Qtde Sol.",field:"qtdesolicitada",filterconfig:{filtertype:"floatinterval",prefix:"",mask:"#,##",decimal:2,value:null,sorted:!0}},{name:"qtderecebida",align:"right",label:"Qtde Receb",field:"qtderecebida",filterconfig:{filtertype:"floatinterval",prefix:"",mask:"#,##",decimal:2,value:null,sorted:!0}},{name:"vlrunitario",align:"right",label:"Vlr Unit",field:"vlrunitario",format:function(e,t){return u["a"].prototype.$helpers.formatRS(e,!1,2)},filterconfig:{filtertype:"floatinterval",prefix:"R$",mask:"#,##",decimal:2,value:null,sorted:!0}},{name:"qtdedevida",align:"right",label:"Qtde Dev",field:"qtdedevida",filterconfig:{filtertype:"floatinterval",prefix:"",mask:"#,##",decimal:2,value:null,sorted:!0}}],loading:!1}},mounted:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,e.init();case 3:if(a.usuariologado.pemitefup){t.next=5;break}throw new Error("Sem permissão de acesso");case 5:return a.permiteoperacionalcoletasbaixar=a.$helpers.permite("followup.consulta"),a.permiteoperacionalcoletasbaixardesfazer=a.$helpers.permite("followup.consulta"),a.permiteoperacionalcoletascancelar=a.$helpers.permite("followup.consulta"),a.permiteoperacionalcoletasconsulta=a.$helpers.permite("followup.consulta"),a.permiteoperacionalcoletassave=a.$helpers.permite("followup.consulta"),t.next=12,a.getConfigLocal();case 12:return a.$route.query&&a.queryRead(a.$route.query),t.next=15,a.refreshData(null);case 15:case"end":return t.stop()}}),t)})))()},computed:{usuariologado:function(){var e=this,t=null;return e.$store.state.usuario.logado&&e.$store.state.usuario.user&&(t=e.$store.state.usuario.user),t}},methods:{actImprimirListagem:function(){var e=arguments,t=this;return s()(n.a.mark((function a(){var r,o;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:"pdf",o=t,a.next=4,o.dataset.showPrintListagem(o,r,!0,o.visiblecolumns);case 4:case"end":return a.stop()}}),a)})))()},getToolTipForneceor:function(e){var t=this;if(e){var a="";return e.fornecedor&&e.fornecedor.id>0?(a="<div>Razão Social: "+e.fornecedor.razaosocial+"</div>",""!==e.fornecedor.fantasia&&(a=a+"<div>Fantasia: "+e.fornecedor.fantasia+"</div>"),""!==e.fornecedor.cnpj&&(a=a+"<div>CNPJ: "+t.$helpers.mascaraDocCPFCNPJ(e.fornecedor.cnpj)+"</div>"),a=a+"<div>ID: "+e.fornecedor.id+"</div>",a+='<div class="q-mt-md text-caption text-weight-bold">Telefones</div>',e.fornecedor.fone1&&""!==e.fornecedor.fone1&&(a=a+"<div>"+t.$helpers.mascaratel(e.fornecedor.fone1)+"</div>"),e.fornecedor.fone2&&""!==e.fornecedor.fone2&&(a=a+"<div>"+t.$helpers.mascaratel(e.fornecedor.fone2)+"</div>"),e.fornecedor.endereco&&e.fornecedor.endereco.cidade.id>0&&(a+='<div class="q-mt-md text-caption text-weight-bold">Endereço</div>',a=a+"<div>"+e.fornecedor.endereco.enderecocompletotext+"</div>")):(a="<div>Razão Social: <b>"+e.fornecrazao+"</b></div>",a=a+"<div>CNPJ: <b>"+t.$helpers.mascaraCpfCnpj(e.forneccnpj)+"</b></div>",a=a+"<div>Cidade: "+e.forneccidade+"/"+e.fornecuf+"</b></div>",""!==e.fornectelefone&&"-"!==e.fornectelefone&&(a=a+"<div>Fone: <b>"+e.fornectelefone+"</b></div>"),a=a+"<div>id: #"+e.fornecedorid+"</div>"),a}},getToolTipItem:function(e){if(e){var t="";return t="<div>Item: <b>"+e.itemdescricao+"</b></div>",t=t+"<div>Cód. Item: <b>"+e.itemid+"</b></div>",t=t+"<div>Nº da linha do item: "+e.itemnumerolinhapedido+"</b></div>",t}},actConfigColuna:function(){var e=this;return s()(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,a.$helpers.dialogConfigTableColunas(a,a.visiblecolumns,a.columns);case 3:if(r=t.sent,!r.ok){t.next=11;break}return a.showtable=!1,t.next=8,a.ReorderPositionColumn(r.data.visible,r.data.cols);case 8:return t.next=10,a.saveConfigLocal();case 10:a.showtable=!0;case 11:case"end":return t.stop()}}),t)})))()},ReorderPositionColumn:function(e,t){var a=this;return s()(n.a.mark((function r(){var o,i,l;return n.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(o=a,o.columns=[],i=0;i<t.length;i++)o.columns.push(t[i]);for(o.visiblecolumns=[],l=0;l<e.length;l++)o.visiblecolumns.push(e[l]);case 5:case"end":return r.stop()}}),r)})))()},getConfigLocal:function(){var e=this;return s()(n.a.mark((function t(){var a,r,o,i,l,s,c,u,d,p;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,a.$helpers.recoveryTableColunasLocalStorage(a,"fupconsulta_v1");case 3:if(r=t.sent,r){t.next=6;break}return t.abrupt("return");case 6:o=[],a.visiblecolumns=[],i=0;case 9:if(!(i<r.length)){t.next=27;break}l=r[i],s=-1,c=0;case 13:if(!(c<a.columns.length)){t.next=23;break}if(u=a.columns[c],u.name!==l.name){t.next=20;break}return o.push(u),s=c,l.visible&&a.visiblecolumns.push(l.name),t.abrupt("break",23);case 20:c++,t.next=13;break;case 23:s>=0&&a.columns.splice(s,1);case 24:i++,t.next=9;break;case 27:for(d=0;d<a.columns.length;d++)p=a.columns[d],o.push(p),a.visiblecolumns.push(p.name);a.columns=o;case 29:case"end":return t.stop()}}),t)})))()},saveConfigLocal:function(){var e=this;return s()(n.a.mark((function t(){var a,r,o,i,l;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e,r=[],o=0;o<a.columns.length;o++)i=a.columns[o],l={name:i.name,visible:a.visiblecolumns.indexOf(i.name)>=0},r.push(l);return t.next=5,a.$helpers.saveTableColunasLocalStorage(a,"fupconsulta_v1",r);case 5:case"end":return t.stop()}}),t)})))()},onSetInputMass:function(e,t){var a=this;return s()(n.a.mark((function r(){var o,i,l,s,u,d,p;return n.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(o=a,i=o.$q.dialog({message:"Salvando, aguarde...",progress:!0,color:"blue",persistent:!0,ok:!1}),l=[],s=0;s<o.selected_rows.length;s++)u=o.selected_rows[s],d={id:u.id},"erroagendastatus"===e?(d["erroagendastatus"]=new c["b"](t.status),d["erroagenda"]=t.erro):"errocoletastatus"===e?(d["errocoletastatus"]=new c["c"](t.status),d["errocoleta"]=t.erro):"errodtpromessastatus"===e?(d["errodtpromessastatus"]=new c["d"](t.status),d["errodtpromessa"]=t.erro):"iniciofollowup"===e?d["iniciofollowup"]=new c["e"](t):"statusconfirmacaocoleta"===e?d["statusconfirmacaocoleta"]=new c["a"](t):d[e]=t,l.push(d);return r.next=6,o.dataset.savemass(l);case 6:p=r.sent,p.ok?(o.$q.notify({message:"Informações atualizadas com sucesso!",color:"positive",caption:p.msg,actions:[{label:"OK",color:"white",handler:function(){}}]}),o.refreshData(null),i.hide()):(i.hide(),p.msg&&""!==p.msg&&o.$helpers.showDialog(p));case 8:case"end":return r.stop()}}),r)})))()},init:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,t.prev=1,a.loading=!0,a.error=null,a.consultaret={ok:!1},a.usuariologado){t.next=7;break}throw new Error("Nenhum usuário logado");case 7:if(a.usuariologado.pemitefup){t.next=9;break}throw new Error("Sem permissão de acesso");case 9:return a.$route.query.cnpj&&""!==a.$route.query.cnpj&&(a.cnpjstart=a.$route.query.cnpj),a.$route.query.chave&&""!==a.$route.query.chave&&(a.consultatipo="chave",a.consultachave=a.$route.query.chave,a.onInputChave(a.consultachave)),t.next=13,a.refreshData();case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](1),a.loading=!1,a.error=t.t0.message;case 19:a.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,15]])})))()},onSetInput:function(e,t,a){var r=this;return s()(n.a.mark((function o(){var i,l,s,u,d;return n.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=r,l=i.$q.dialog({message:"Salvando, aguarde...",progress:!0,color:"blue",persistent:!0,ok:!1}),s=[],u={id:e.id},"erroagendastatus"===t?(u["erroagendastatus"]=new c["b"](i.inputStatusAgendaPopupEdit.status),u["erroagenda"]=i.inputStatusAgendaPopupEdit.erro):"errocoletastatus"===t?(u["errocoletastatus"]=new c["c"](i.inputStatusAgendaPopupEdit.status),u["errocoleta"]=i.inputStatusAgendaPopupEdit.erro):"errodtpromessastatus"===t?(u["errodtpromessastatus"]=new c["d"](i.inputStatusAgendaPopupEdit.status),u["errodtpromessa"]=i.inputStatusAgendaPopupEdit.erro):u[t]=e[t],s.push(u),o.next=8,i.dataset.savemass(s);case 8:d=o.sent,d.ok?("erroagendastatus"===t&&(e["erroagendastatus"]=new c["b"](i.inputStatusAgendaPopupEdit.status),e["erroagenda"]=i.inputStatusAgendaPopupEdit.erro),"errocoletastatus"===t&&(e["errocoletastatus"]=new c["c"](i.inputStatusAgendaPopupEdit.status),e["errocoleta"]=i.inputStatusAgendaPopupEdit.erro),"errodtpromessastatus"===t&&(e["errodtpromessastatus"]=new c["d"](i.inputStatusAgendaPopupEdit.status),e["errodtpromessa"]=i.inputStatusAgendaPopupEdit.erro),i.inputStatusAgendaPopupEdit.status=null,i.inputStatusAgendaPopupEdit.erro=null,i.$q.notify({message:"Informação atualizada com sucesso!",color:"positive",caption:d.msg,actions:[{label:"OK",color:"white",handler:function(){}}]}),l.hide()):(l.hide(),e[t]=a,d.msg&&""!==d.msg&&i.$helpers.showDialog(d));case 10:case"end":return o.stop()}}),o)})))()},actEditRow:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i,l;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t,"undefined"!==typeof e){a.next=3;break}return a.abrupt("return");case 3:return o=new p["a"](e),i=[],i.push(o),a.next=8,r.dataset.showEditorRapido(r,i);case 8:l=a.sent,l.ok?r.refreshData():l.msg&&""!==l.msg&&r.$helpers.showDialog(l);case 10:case"end":return a.stop()}}),a)})))()},actLogView:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t,"undefined"!==typeof e){a.next=3;break}return a.abrupt("return");case 3:return o=new p["a"](e),a.next=6,o.showLogView(r);case 6:i=a.sent,i.ok?r.refreshData():i.msg&&""!==i.msg&&r.$helpers.showDialog(i);case 8:case"end":return a.stop()}}),a)})))()},actEditRowLista:function(){var e=this;return s()(n.a.mark((function t(){var a,r,o,i,l;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e,r=[],o=0;o<a.selected_rows.length;o++)i=a.selected_rows[o],r.push(i);return t.next=5,a.dataset.showEditorRapido(a,r);case 5:l=t.sent,l.ok?a.refreshData():l.msg&&""!==l.msg&&a.$helpers.showDialog(l);case 7:case"end":return t.stop()}}),t)})))()},queryRead:function(){var e=this;return s()(n.a.mark((function t(){var a,r,o,i,l,s;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,r=a.$route.query,r)for(r.pagesize&&(o=parseInt(r.pagesize),a.$qtable.rowsperpageoptions.indexOf(o)>=0&&(a.dataset.pagination.rowsPerPage=o)),r.page&&(a.dataset.pagination.page=parseInt(r.page)),i=null,r.sortby&&(i=JSON.parse(r.sortby),Object.keys(i).length>0&&(a.orderbylist=i)),l=0;l<a.columns.length;l++)s=a.columns[l],s.filterconfig&&(""!==s.filterconfig.filtertype2&&r[s.name+"2"]&&""!==r[s.name+"2"]&&(s.filterconfig.datatype2===JSON?s.filterconfig.value2=JSON.parse(r[s.name+"2"].split(",")):s.filterconfig.value2=r[s.name+"2"].split(",").map(s.filterconfig.datatype2?s.filterconfig.datatype2:Number)),"text"===s.filterconfig.filtertype&&r[s.name]&&""!==r[s.name]&&(s.filterconfig.value=r[s.name]),"datetimeinterval"===s.filterconfig.filtertype&&(s.filterconfig.value={},r[s.name+"i"]&&(s.filterconfig.value.valuei=r[s.name+"i"]),r[s.name+"f"]&&(s.filterconfig.value.valuef=r[s.name+"f"]),0===Object.keys(s.filterconfig.value).length&&(s.filterconfig.value=null)),"floatinterval"===s.filterconfig.filtertype&&(s.filterconfig.value={},r[s.name+"i"]&&(s.filterconfig.value.valuei=r[s.name+"i"]),r[s.name+"f"]&&(s.filterconfig.value.valuef=r[s.name+"f"]),0===Object.keys(s.filterconfig.value).length&&(s.filterconfig.value=null)));case 3:case"end":return t.stop()}}),t)})))()},actClearFilter:function(e){var t=arguments,a=this;return s()(n.a.mark((function r(){var o,i,l,s,c;return n.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:-1,i=a,l=o,!e){r.next=13;break}s=0;case 5:if(!(s<i.columns.length)){r.next=13;break}if(c=i.columns[s],c.name!==e.col.name){r.next=10;break}return l=s,r.abrupt("break",13);case 10:s++,r.next=5;break;case 13:i.columns[l].filterconfig.value=null,i.refreshData(null);case 15:case"end":return r.stop()}}),r)})))()},actChangeSortBy:function(e){var t=this;if(e){for(var a=-1,r=0;r<t.columns.length;r++){var o=t.columns[r];if(o.name===e.col.name){a=r;break}}if(a>=0&&t.columns[a].filterconfig.sorted){var i=t.columns[a].name,n=t.orderbylist[i];n=n&&"asc"===n?"desc":"asc",t.orderbylist={},t.orderbylist[i]=n}}t.refreshData(null)},actInputFilter:function(){var e=this;e.loading||e.refreshData(null)},actShowFilter:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t,!e){a.next=26;break}if(o=null,i=null,!e.col.filterconfig){a.next=26;break}if(!e.col.filterconfig.filtertype||"datetimeinterval"!==e.col.filterconfig.filtertype){a.next=14;break}return o=e.col.filterconfig.value,o||(o={}),o["title"]="Período :: "+e.col.label,a.next=11,t.$helpers.dialogFilterDateTimeInterval(t,o);case 11:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value=i.dados:e.col.filterconfig.value=null,r.refreshData(null)),a.abrupt("return",!1);case 14:if(!e.col.filterconfig.filtertype||"floatinterval"!==e.col.filterconfig.filtertype){a.next=26;break}return o=e.col.filterconfig.value,o||(o={}),o["title"]="Intervalo de valores :: "+e.col.label,o["prefix"]=e.col.filterconfig.prefix?e.col.filterconfig.prefix:"",o["mask"]=e.col.filterconfig.mask?e.col.filterconfig.mask:"#",o["decimal"]=e.col.filterconfig.decimal?e.col.filterconfig.decimal:0,a.next=23,t.$helpers.dialogFilterFloatInterval(t,o);case 23:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value=i.dados:e.col.filterconfig.value=null,r.refreshData(null)),a.abrupt("return",!1);case 26:case"end":return a.stop()}}),a)})))()},actShowFilter2:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t,!e){a.next=127;break}if(o=null,i=null,!e.col.filterconfig){a.next=127;break}if(!e.col.filterconfig.filtertype2||"cidadefilter"!==e.col.filterconfig.filtertype2){a.next=17;break}return o={},o["title"]="Filtro :: "+e.col.label,o["multiple"]=!0,o["fastadd"]=!0,o["allowempty"]=!0,o["value"]=e.col.filterconfig.value2,a.next=14,t.$helpers.dialogFilterCidadesMultiplo(t,o);case 14:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 17:if(!e.col.filterconfig.filtertype2||"clientefilter"!==e.col.filterconfig.filtertype2){a.next=29;break}return o={},o["title"]="Filtro :: "+e.col.label,o["multiple"]=!0,o["fastadd"]=!0,o["allowempty"]=!0,o["value"]=e.col.filterconfig.value2,a.next=26,t.$helpers.dialogFilterClientes(t,o);case 26:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 29:if(!e.col.filterconfig.filtertype2||"itensdescricaofilter"!==e.col.filterconfig.filtertype2){a.next=38;break}return o={},o["title"]="Fitro por descrição do item",o["value"]=e.col.filterconfig.value2,a.next=35,r.dataset.dialogFilterItensDescricao(r,o);case 35:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 38:if(!e.col.filterconfig.filtertype2||"itemidfilter"!==e.col.filterconfig.filtertype2){a.next=47;break}return o={},o["title"]="Fitro por número do item",o["value"]=e.col.filterconfig.value2,a.next=44,r.dataset.ShowDialogFilterItemid(r,o);case 44:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 47:if(!e.col.filterconfig.filtertype2||"clientefollowupidfilter"!==e.col.filterconfig.filtertype2){a.next=56;break}return o={},o["title"]="Fitro por id de FUP dos clientes",o["value"]=e.col.filterconfig.value2,a.next=53,r.dataset.dialogFilterClientesFUPID(r,o);case 53:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 56:if(!e.col.filterconfig.filtertype2||"compradorfilter"!==e.col.filterconfig.filtertype2){a.next=65;break}return o={},o["title"]="Fitro por compradores",o["value"]=e.col.filterconfig.value2,a.next=62,r.dataset.dialogFilterComprador(r,o);case 62:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 65:if(!e.col.filterconfig.filtertype2||""===e.col.filterconfig.filtertype2){a.next=127;break}if(!(["statusagendafilter","statuscoletafilter","statusdtpromessafilter"].indexOf(e.col.filterconfig.filtertype2)>=0)){a.next=86;break}o={},a.t0=e.col.filterconfig.filtertype2,a.next="statusagendafilter"===a.t0?71:"statuscoletafilter"===a.t0?74:"statusdtpromessafilter"===a.t0?77:80;break;case 71:return o["tipoerro"]="agenda",o["title"]="Fitro por status do agendamento",a.abrupt("break",80);case 74:return o["tipoerro"]="coleta",o["title"]="Fitro por status da coleta",a.abrupt("break",80);case 77:return o["tipoerro"]="dtpromessa",o["title"]="Fitro por status da data de promessa",a.abrupt("break",80);case 80:return o["value"]=e.col.filterconfig.value2,a.next=83,r.dataset.ShowDialogFilterStatusAgenda(r,o);case 83:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 86:if(!(["statusiniciofupfilter","statusconfirmacaocoletafilter"].indexOf(e.col.filterconfig.filtertype2)>=0)){a.next=103;break}o={},a.t1=e.col.filterconfig.filtertype2,a.next="statusiniciofupfilter"===a.t1?91:"statusconfirmacaocoletafilter"===a.t1?94:97;break;case 91:return o["options"]=[{label:"Sem status",value:"0",color:"grey"},{label:"Conecta",value:"1",color:"orange"},{label:"Fornecedor",value:"2",color:"blue"}],o["title"]="Fitro por status do Início do Follow Up",a.abrupt("break",97);case 94:return o["options"]=[{label:"Sem status",value:"0",color:"grey"},{label:"Ok",value:"1",color:"green"},{label:"Erro",value:"2",color:"erro"}],o["title"]="Fitro por status da Confirmação da Coleta",a.abrupt("break",97);case 97:return o["value"]=e.col.filterconfig.value2,a.next=100,r.dataset.ShowDialogFilterStatusGeral(r,o);case 100:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 103:if(!(["checkexistefilter"].indexOf(e.col.filterconfig.filtertype2)>=0)){a.next=115;break}return o={},o["splitchar"]=",",o["type"]="integer",o["title"]="Fitro por "+e.col.label,o["value"]=e.col.filterconfig.value2,e.col.filterconfig.allowempty2&&(o["allowempty"]=!0),a.next=112,r.dataset.ShowDialogFilterCheckExist(r,o);case 112:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 115:if(!(["multivalorfilter"].indexOf(e.col.filterconfig.filtertype2)>=0)){a.next=127;break}return o={},o["splitchar"]=",",o["type"]="integer",o["title"]="Fitro por "+e.col.label,o["value"]=e.col.filterconfig.value2,e.col.filterconfig.allowempty2&&(o["allowempty"]=!0),a.next=124,r.dataset.ShowDialogFilterMultiGeral(r,o);case 124:return i=a.sent,i&&i.ok&&(i.dados?e.col.filterconfig.value2=i.dados:e.col.filterconfig.value2=null,r.refreshData(null)),a.abrupt("return",!1);case 127:case"end":return a.stop()}}),a)})))()},actApplyFastFilter:function(e,t){var a=this;if(e)for(var r=0;r<a.columns.length;r++){var o=a.columns[r];if(o.name===e.col.name&&o.filterconfig){o.filterconfig.value=t;break}}a.refreshData(null)},actEditCliente:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i,l;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t,o=new f["a"],o.id=e,a.next=5,o.dialogAddOrEdit(r);case 5:if(i=a.sent,!i.ok){a.next=9;break}a.next=13;break;case 9:if(!i.msg||""===i.msg){a.next=13;break}return l=r.$helpers.showDialog(i),a.next=13,l.then((function(){}));case 13:case"end":return a.stop()}}),a)})))()},refreshData:function(e){var t=this;return s()(n.a.mark((function a(){var r,o,i,l,s,c;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(r=t,r.loading=!0,r.msgError="",r.dataset.readPropsTable(e),r.$q.platform.is.mobile&&(r.dataset.pagination.rowsPerPage=50),r.dataset.query={perpage:r.dataset.pagination.rowsPerPage,page:r.dataset.pagination.page},o=0;o<r.columns.length;o++)i=r.columns[o],i.filterconfig&&(""!==i.filterconfig.filtertype2&&(i.filterconfig.datatype2===JSON?i.filterconfig.value2&&(r.dataset.query[i.name+"2"]=JSON.stringify(i.filterconfig.value2)):i.filterconfig.value2&&(r.dataset.query[i.name+"2"]=i.filterconfig.value2.join(","))),"text"===i.filterconfig.filtertype&&i.filterconfig.value&&""!==i.filterconfig.value&&(r.dataset.query[i.name]=i.filterconfig.value),"datetimeinterval"===i.filterconfig.filtertype&&i.filterconfig.value&&(i.filterconfig.value.valuei&&(r.dataset.query[i.name+"i"]=u["a"].prototype.$helpers.strDateToFormated(i.filterconfig.value.valuei,"YYYY/MM/DD","YYYY-MM-DD")),i.filterconfig.value.valuef&&(r.dataset.query[i.name+"f"]=u["a"].prototype.$helpers.strDateToFormated(i.filterconfig.value.valuef,"YYYY/MM/DD","YYYY-MM-DD"))),"floatinterval"===i.filterconfig.filtertype&&i.filterconfig.value&&(i.filterconfig.value.valuei&&(r.dataset.query[i.name+"i"]=i.filterconfig.value.valuei),i.filterconfig.value.valuef&&(r.dataset.query[i.name+"f"]=i.filterconfig.value.valuef)));return r.dataset.orderby=null,r.orderbylist&&(l=Object.keys(r.orderbylist).length,l>0&&(r.dataset.orderby=r.orderbylist)),a.next=11,r.dataset.fetch();case 11:if(s=a.sent,!s.ok){a.next=22;break}r.rows=r.dataset.itens,r.selected_rows=[],null!==r.dataset.pagination.page&&r.dataset.pagination.page>1&&(r.dataset.query.page=r.dataset.pagination.page),null!==r.dataset.pagination.rowsPerPage&&r.dataset.pagination.rowsPerPage>0&&20!==parseInt(r.dataset.pagination.rowsPerPage)&&(r.dataset.query.pagesize=r.dataset.pagination.rowsPerPage),null!==r.dataset.orderby&&(r.dataset.query.sortby=JSON.stringify(r.dataset.orderby)),r.dataset.query.t=(new Date).getTime();try{r.$router.replace({name:r.$route.name,query:r.dataset.query,replace:!0,append:!1})}catch(n){console.error(n)}a.next=26;break;case 22:if(!s.msg||""===s.msg){a.next=26;break}return c=r.$helpers.showDialog(s),a.next=26,c.then((function(){}));case 26:r.loading=!1;case 27:case"end":return a.stop()}}),a)})))()}}},Ie=Re,Qe=a("9989"),Ae=a("54e1"),Le=a("eaac"),ze=a("74f7"),Be=a("0d59"),je=a("357e"),Me=a("b047"),Je=a("42a1"),Ye=a("db86"),He=a("4e73"),Ue=a("1c1c"),Ve=a("cb32"),Ke=a("bd08"),Ge=a("de5e"),We=a("7f67"),Xe=Object(D["a"])(Ie,r,o,!1,null,null,null);t["default"]=Xe.exports;I()(Xe,"components",{QPage:Qe["a"],QBanner:Ae["a"],QTable:Le["a"],QLinearProgress:M["a"],QInnerLoading:ze["a"],QSpinner:Be["a"],QBtn:J["a"],QTh:je["a"],QIcon:O["a"],QTooltip:N["a"],QInput:V["a"],QChip:Me["a"],QPopupEdit:Je["a"],QTd:Ye["a"],QMenu:He["a"],QList:Ue["a"],QItem:fe["a"],QItemSection:me["a"],QAvatar:Ve["a"],QSeparator:H["a"],QTr:Ke["a"],QPageSticky:Ge["a"],QToolbar:re["a"],QToolbarTitle:oe["a"]}),I()(Xe,"directives",{ClosePopup:We["a"]})},"1cf5":function(e,t,a){"use strict";var r=a("39a1"),o=a.n(r);o.a},"39a1":function(e,t,a){}}]);