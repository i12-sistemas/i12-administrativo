(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{4598:function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("q-page",{},[e("div",{staticClass:"row doc-page",class:a.$q.platform.is.mobile?"q-pa-0":"q-pa-md"},[e("div",{staticClass:"col-sm-12 full-width",class:a.$q.platform.is.mobile?"q-pa-0":"q-pt-md"},[e("q-card",{staticClass:"my-card",attrs:{bordered:"",flat:""}},[e("q-card-section",{attrs:{horizontal:""}},[e("q-card-section",{staticClass:"col-10"},[e("div",{staticClass:"text-h6"},[a._v(a._s(a.dataset.nome_old))])]),a.dataset.fotoiconurl?e("q-card-section",{staticClass:"col-2 text-right"},[e("q-avatar",{attrs:{size:"80px"}},[e("q-img",{attrs:{src:a.dataset.fotoiconurl,contain:""}})],1)],1):a._e()],1),e("q-separator",{attrs:{spaced:""}}),e("q-card-section",[e("div",[e("div",{staticClass:"fit row wrap q-col-gutter-x-md q-col-gutter-y-md q-pb-md"},[e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-field",{attrs:{outlined:"",label:"E-mail",dense:!a.$q.platform.is.mobile,"stack-label":""},scopedSlots:a._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0},{key:"control",fn:function(){return[e("div",{staticClass:"self-center full-width no-outline",attrs:{tabindex:"0"}},[a._v(a._s(a.dataset.email))])]},proxy:!0}])})],1),e("div",{staticClass:"col-md-6 col-xs-12"},[e("q-input",{attrs:{outlined:"",label:"Celular",maxlength:"20",type:"phone","aria-placeholder":"Somente número",dense:!a.$q.platform.is.mobile},scopedSlots:a._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"phone"}})]},proxy:!0}]),model:{value:a.dataset.celular,callback:function(t){a.$set(a.dataset,"celular",t)},expression:"dataset.celular"}},[e("q-tooltip",{attrs:{delay:500}},[a._v("Informe somente número com o DDD")])],1)],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{outlined:"",label:"Nome","stack-label":"",maxlength:"60",type:"text",dense:!a.$q.platform.is.mobile},model:{value:a.dataset.nome,callback:function(t){a.$set(a.dataset,"nome",t)},expression:"dataset.nome"}})],1)])])]),e("q-card-section",{staticClass:"q-ma-none q-pa-none"},[e("q-table",{attrs:{data:a.dataset.clientes,columns:a.columns,dense:"",loading:a.loading,id:"tableempresas",flat:"","hide-bottom":"","row-key":"id","rows-per-page-options":[0],title:"Empresas associadas a mim"},scopedSlots:a._u([{key:"body-cell-razaosocial",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("div",[a._v(a._s(t.row.razaosocial))]),""!==t.row.fantasia&&t.row.fantasia!==t.row.razaosocial?e("div",{staticClass:"text-caption"},[a._v(a._s(t.row.fantasia))]):a._e(),t.row.cidade&&t.row.cidade.cidade?e("div",{staticClass:"text-caption"},[a._v(a._s(t.row.cidade.cidade+" / "+t.row.cidade.uf))]):a._e()])]}},{key:"body-cell-cnpj",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("div",[a._v("\r\n                    "+a._s(t.row.cnpj?a.$helpers.mascaraDocCPFCNPJ(t.row.cnpj):"-")+"\r\n                  ")])])]}},{key:"body-cell-fantasiafollowup",fn:function(t){return[e("q-td",{attrs:{props:t}},[t.row.fantasia_followup&&""!==t.row.fantasia_followup&&t.row.followupid&&""!==t.row.followupid?e("div",[e("q-avatar",{attrs:{icon:"insights",color:"indigo","font-size":"15px",size:"22px","text-color":"white"}}),e("q-tooltip",{attrs:{delay:500}},[a._v("\r\n                      Follow Up ativado\r\n                    ")])],1):a._e()])]}}])})],1),"celular"===a.dataset.usernametype?e("q-card-section",{staticClass:"text-right text-caption text-accent"},[e("div",[a._v("Se o número de celular for alterado, será necessário refazer seu acesso. "),e("q-icon",{staticClass:"q-mr-md",attrs:{name:"info",size:"20px"}})],1)]):a._e(),e("q-separator"),e("q-card-section",[e("q-btn",{attrs:{label:"Salvar",unelevated:"",color:"primary"},on:{click:a.actSave}}),e("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Voltar",color:"primary",flat:""},on:{click:function(t){return a.$router.go(-1)}}})],1)],1)],1),e("q-page-sticky",{attrs:{position:"top",expand:""}},[e("q-toolbar",{staticClass:"bg-white text-primary shadow-up-21"},[e("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){return a.$store.dispatch("homedashboard/togglemenu")}}}),e("q-btn",{attrs:{flat:"",round:"",icon:"arrow_back"},on:{click:function(t){return a.$router.go(-1)}}}),a.$q.platform.is.mobile?a._e():e("q-separator",{attrs:{vertical:"",inset:"",spaced:""}}),e("q-toolbar-title",[a._v("Meu perfil de usuário")]),e("q-btn",{attrs:{icon:"sync",round:a.$q.platform.is.mobile,flat:"",loading:a.loading},on:{click:function(t){return a.refreshData(null)}}})],1)],1)],1)])],1)},r=[],s=e("a34a"),n=e.n(s),i=(e("96cf"),e("c973")),l=e.n(i),c=e("1421"),d={name:"usuario.meuperfil",components:{},data:function(){var a=new c["a"];return{dataset:a,rows:[],filter:"",breadcrumbslist:[],columns:[{name:"razaosocial",field:"razaosocial",required:!0,label:"Razão Social",align:"left",sortable:!1},{name:"cnpj",style:"width: 120px",field:"cnpj",label:"CNPJ",align:"center",sortable:!1},{name:"fantasiafollowup",style:"width: 80px",align:"center",label:"Follow Up",field:"fantasia_followup",sortable:!1}],showpedido:!1,tab:"dados",slide:0,loading:!1,posting:!1,msgError:"",showfavoritos:!0}},mounted:function(){var a=this;return l()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.init();case 2:case"end":return t.stop()}}),t)})))()},computed:{usuariologado:function(){return this.$store.state.usuario.user&&this.$store.state.usuario.user.id>0?this.$store.state.usuario.user:null}},methods:{init:function(){var a=this;return l()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,e.loading=!0,e.dataset.limpardados(),t.next=5,e.refreshData();case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},refreshData:function(){var a=this;return l()(n.a.mark((function t(){var e,o,r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,e.loading=!0,t.next=4,e.dataset.meuUsuario();case 4:if(o=t.sent,o.ok){t.next=10;break}return e.loading=!1,r=e.$helpers.showDialog(o),t.next=10,r.then((function(){}));case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},actSave:function(){var a=this;return l()(n.a.mark((function t(){var e,o,r,s;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a,e.loading=!0,o="celular"===e.dataset.usernametype&&e.dataset.celular_old!==e.dataset.celular,t.next=5,e.dataset.saveMeuUsuario();case 5:if(r=t.sent,r.ok){t.next=13;break}return e.loading=!1,s=e.$helpers.showDialog(r),t.next=11,s.then((function(){}));case 11:t.next=21;break;case 13:if(e.$q.notify({color:"positive",icon:"check_circle",timeout:2500,message:"Informações do usuário foram salvas!"}),!o){t.next=19;break}e.$store.dispatch("usuario/logout"),e.$q.notify({color:"orange",icon:"person",timeout:2500,message:"Celular alterado, necessário fazer novo login!"}),t.next=21;break;case 19:return t.next=21,e.$store.dispatch("usuario/getlocalstorage");case 21:e.loading=!1;case 22:case"end":return t.stop()}}),t)})))()}}},u=d,p=e("2877"),f=e("9989"),m=e("f09f"),w=e("a370"),b=e("cb32"),q=e("068f"),v=e("eb85"),h=e("8572"),g=e("0016"),x=e("27f9"),_=e("05c0"),k=e("eaac"),y=e("db86"),C=e("9c40"),$=e("de5e"),Q=e("65c6"),z=e("6ac5"),S=e("eebe"),D=e.n(S),j=Object(p["a"])(u,o,r,!1,null,null,null);t["default"]=j.exports;D()(j,"components",{QPage:f["a"],QCard:m["a"],QCardSection:w["a"],QAvatar:b["a"],QImg:q["a"],QSeparator:v["a"],QField:h["a"],QIcon:g["a"],QInput:x["a"],QTooltip:_["a"],QTable:k["a"],QTd:y["a"],QBtn:C["a"],QPageSticky:$["a"],QToolbar:Q["a"],QToolbarTitle:z["a"]})}}]);